"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5895],{62386:(he,x,a)=>{a.r(x),a.d(x,{SettingsPage:()=>en,default:()=>On});var e=a(32735),E=a(55851),s=a(5141),H=a(11856),W=a(5636),Fe=a(99357),Te=a(4187),ge=a(47254),We=a(84968),J=a(16540),L=a(9808),b=a(78330),G=a(95602),fe=a(90662),U=a(44526),q=a(14983),et=a(82372),Qe=a.n(et),Ve=a(88677),Se=a.n(Ve),X=a(60216),C=a.n(X),ce=a(69898),Ge=a(20763),ze=a(59290),ne=a.n(ze),de=a(23101),ue=a.n(de),Ze=a(49415);const Je={currentStep:void 0},$e=(m=Je,d)=>(0,Ze.default)(m,c=>{switch(d.type){case"GO_TO":{c.currentStep=d.to;break}default:return c}});var Ae=a(4122);const He={localImage:void 0},re=(m=He,d)=>(0,Ze.default)(m,c=>{switch(d.type){case"SET_LOCAL_IMAGE":{c.localImage=d.value;break}default:return c}}),I=({onChangeLogo:m,customLogo:d,goTo:c,Component:f,modalTitle:u,next:T,prev:M,currentStep:O})=>{const[{localImage:v},D]=(0,e.useReducer)(re,He),{formatMessage:_}=(0,W.useIntl)(),Ce=ct=>{D({type:"SET_LOCAL_IMAGE",value:ct})},Le=()=>{c(null)};return O?e.createElement(Ae.ModalLayout,{labelledBy:"modal",onClose:Le},e.createElement(Ae.ModalHeader,null,e.createElement(G.Typography,{fontWeight:"bold",as:"h2",id:"modal"},_(u))),e.createElement(f,{setLocalImage:Ce,goTo:c,next:T,prev:M,onClose:Le,asset:v||d,onChangeLogo:m})):null};I.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},I.propTypes={Component:C().elementType,currentStep:C().string,customLogo:C().shape({name:C().string,url:C().string,width:C().number,height:C().number,ext:C().string}),goTo:C().func.isRequired,modalTitle:C().shape({id:C().string,defaultMessage:C().string}),next:C().string,onChangeLogo:C().func.isRequired,prev:C().string};const oe=I,A=750,te=100,se=["image/jpeg","image/png","image/svg+xml"];var z=a(81700),pe=a(27635),Z=a(19615),k=a(19192),ae=a(78752),Me=a(20001),Ke=a(22795),qe=a.n(Ke),rt=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{O(c.next(v))}catch(D){u(D)}},M=v=>{try{O(c.throw(v))}catch(D){u(D)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);O((c=c.apply(m,d)).next())});const _e={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},j={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},ie=m=>new Promise(d=>{const c=new FileReader;c.onload=()=>{const f=new Image;f.onload=function(){d({width:f.width,height:f.height})},f.src=c.result},c.readAsDataURL(m)}),V=(m,d)=>({ext:m.name.split(".").pop(),size:m.size/1e3,name:m.name,url:URL.createObjectURL(m),rawFile:m,width:d.width,height:d.height}),K=m=>rt(void 0,null,function*(){let d;if(!se.includes(m.type))throw d=new Error("File format"),d.displayMessage=_e,d;const f=yield ie(m);if(!(f.width<=A&&f.height<=A))throw d=new Error("File sizing"),d.displayMessage=j,d;const T=V(m,f);if(!(T.size<=te))throw d=new Error("File sizing"),d.displayMessage=j,d;return T});var Be=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{O(c.next(v))}catch(D){u(D)}},M=v=>{try{O(c.throw(v))}catch(D){u(D)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);O((c=c.apply(m,d)).next())});const Ue=(0,Z.default)(Me.FieldInput)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,Xe=({setLocalImage:m,goTo:d,next:c,onClose:f})=>{const{formatMessage:u}=(0,W.useIntl)(),[T,M]=(0,e.useState)(!1),[O,v]=(0,e.useState)(void 0),D=(0,e.useRef)(null),_=()=>M(!0),Ce=()=>M(!1),Le=at=>{at.preventDefault(),D.current.click()},ct=()=>Be(void 0,null,function*(){Ce();const at=D.current.files[0];if(!!at)try{const dt=yield K(at);m(dt),d(c)}catch(dt){if(dt.displayMessage)v(u(dt.displayMessage,{size:te,dimension:A})),D.current.focus();else throw dt}}),st=()=>T?"primary500":O?"danger600":"neutral300";return e.createElement(e.Fragment,null,e.createElement("form",null,e.createElement(L.Box,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(Me.Field,{name:"logo-upload",error:O},e.createElement("label",{htmlFor:"logo-upload"},e.createElement(fe.Stack,{spacing:2},e.createElement(k.Flex,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:T?"primary100":"neutral100",borderColor:st(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:_,onDragLeave:Ce},e.createElement(ae.Icon,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:qe(),"aria-hidden":!0}),e.createElement(L.Box,{paddingTop:3,paddingBottom:5},e.createElement(G.Typography,{variant:"delta",as:"span"},u({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),e.createElement(Ue,{accept:se,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:ct,ref:D,id:"logo-upload"}),e.createElement(U.Button,{type:"button",onClick:Le},u({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),e.createElement(L.Box,{paddingTop:6},e.createElement(G.Typography,{variant:"pi",textColor:"neutral600"},u({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:te,dimension:A})))),e.createElement(Me.FieldError,null)))))),e.createElement(Ae.ModalFooter,{startActions:e.createElement(U.Button,{onClick:f,variant:"tertiary"},u({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};Xe.defaultProps={next:null},Xe.propTypes={goTo:C().func.isRequired,next:C().string,onClose:C().func.isRequired,setLocalImage:C().func.isRequired};const Q=Xe;var ye=a(37178),Oe=a(43653),S=a.n(Oe),nn=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{O(c.next(v))}catch(D){u(D)}},M=v=>{try{O(c.throw(v))}catch(D){u(D)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);O((c=c.apply(m,d)).next())});const kn=m=>nn(void 0,null,function*(){try{const d=yield S().get(m,{responseType:"blob",timeout:8e3});return new File([d.data],d.config.url,{type:d.headers["content-type"]})}catch(d){throw d.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},d}});var on=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{O(c.next(v))}catch(D){u(D)}},M=v=>{try{O(c.throw(v))}catch(D){u(D)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);O((c=c.apply(m,d)).next())});const At=({goTo:m,next:d,onClose:c,setLocalImage:f})=>{const{formatMessage:u}=(0,W.useIntl)(),[T,M]=(0,e.useState)(""),[O,v]=(0,e.useState)(null),D=Ce=>{M(Ce.target.value)},_=Ce=>on(void 0,null,function*(){Ce.preventDefault();try{const Le=yield kn(T),ct=yield K(Le);f(ct),m(d)}catch(Le){if(Le.displayMessage)v(u(Le.displayMessage,{size:te,dimension:A}));else throw Le}});return e.createElement("form",{onSubmit:_},e.createElement(L.Box,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(ye.TextInput,{label:u({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:O,onChange:D,value:T,name:"logo-url"})),e.createElement(Ae.ModalFooter,{startActions:e.createElement(U.Button,{onClick:c,variant:"tertiary"},u({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(U.Button,{type:"submit"},u({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};At.defaultProps={next:null},At.propTypes={goTo:C().func.isRequired,next:C().string,onClose:C().func.isRequired,setLocalImage:C().func.isRequired};const wt=At,Ot=({setLocalImage:m,goTo:d,next:c,onClose:f})=>{const{formatMessage:u}=(0,W.useIntl)();return e.createElement(z.TabGroup,{label:u({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},e.createElement(L.Box,{paddingLeft:8,paddingRight:8},e.createElement(z.Tabs,null,e.createElement(z.Tab,null,u({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),e.createElement(z.Tab,null,u({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),e.createElement(pe.Divider,null)),e.createElement(z.TabPanels,null,e.createElement(z.TabPanel,null,e.createElement(Q,{onClose:f,setLocalImage:m,goTo:d,next:c})),e.createElement(z.TabPanel,null,e.createElement(wt,{onClose:f,setLocalImage:m,goTo:d,next:c}))))};Ot.defaultProps={next:null},Ot.propTypes={goTo:C().func.isRequired,next:C().string,onClose:C().func.isRequired,setLocalImage:C().func.isRequired};const an=Ot;var nt=a(31998);const Rt=({asset:m})=>{const{formatMessage:d}=(0,W.useIntl)();return e.createElement(nt.Card,null,e.createElement(nt.CardHeader,null,e.createElement(nt.CardAsset,{size:"S",src:m.url})),e.createElement(nt.CardBody,null,e.createElement(nt.CardContent,null,e.createElement(nt.CardTitle,null,m.name),e.createElement(nt.CardSubtitle,null,`${m.ext.toUpperCase()} - ${m.width}\u2715${m.height}`)),e.createElement(nt.CardBadge,null,d({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};Rt.propTypes={asset:C().shape({name:C().string,url:C().string,width:C().number,height:C().number,ext:C().string}).isRequired};const jt=Rt,Ct=({onClose:m,asset:d,prev:c,next:f,goTo:u,setLocalImage:T,onChangeLogo:M})=>{const{formatMessage:O}=(0,W.useIntl)(),v=()=>{T(void 0),u(c)},D=()=>{M(d),u(f)};return e.createElement(e.Fragment,null,e.createElement(L.Box,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},e.createElement(k.Flex,{justifyContent:"space-between",paddingBottom:6},e.createElement(k.Flex,{direction:"column",alignItems:"flex-start"},e.createElement(G.Typography,{variant:"pi",fontWeight:"bold"},O({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),e.createElement(G.Typography,{variant:"pi",textColor:"neutral500"},O({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),e.createElement(U.Button,{onClick:v,variant:"secondary"},O({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),e.createElement(L.Box,{maxWidth:(0,E.pxToRem)(180)},e.createElement(jt,{asset:d}))),e.createElement(Ae.ModalFooter,{startActions:e.createElement(U.Button,{onClick:m,variant:"tertiary"},O({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(U.Button,{onClick:D},O({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};Ct.defaultProps={next:null,prev:null},Ct.propTypes={goTo:C().func.isRequired,asset:C().shape({name:C().string,url:C().string,width:C().number,height:C().number,ext:C().string}).isRequired,next:C().string,onClose:C().func.isRequired,onChangeLogo:C().func.isRequired,prev:C().string,setLocalImage:C().func.isRequired};const Vn={upload:{Component:an,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:Ct,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},Et=({customLogo:m,defaultLogo:d,onChangeLogo:c,onResetMenuLogo:f})=>{const[{currentStep:u},T]=(0,e.useReducer)($e,Je),{Component:M,next:O,prev:v,modalTitle:D}=Vn[u]||{},{formatMessage:_}=(0,W.useIntl)(),Ce=Le=>{T({type:"GO_TO",to:Le})};return e.createElement(e.Fragment,null,e.createElement(ce.CarouselInput,{label:_({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"}),selectedSlide:0,hint:_({id:"Settings.application.customization.carousel-hint",defaultMessage:"Change the admin panel logo (Max dimension: {dimension}x{dimension}, Max file size: {size}KB)"},{size:te,dimension:A}),previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:(m==null?void 0:m.name)||"logo.png",actions:e.createElement(ce.CarouselActions,null,e.createElement(Ge.IconButton,{onClick:()=>Ce(m?"pending":"upload"),label:_({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:e.createElement(ne(),null)}),m&&e.createElement(Ge.IconButton,{onClick:f,label:_({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:e.createElement(ue(),null)}))},e.createElement(ce.CarouselSlide,{label:_({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},e.createElement(L.Box,{maxHeight:"40%",maxWidth:"40%",as:"img",src:(m==null?void 0:m.url)||d,alt:_({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),e.createElement(oe,{Component:M,currentStep:u,onChangeLogo:c,customLogo:m,goTo:Ce,next:O,prev:v,modalTitle:D}))};Et.defaultProps={customLogo:null},Et.propTypes={customLogo:C().shape({url:C().string,name:C().string}),defaultLogo:C().string.isRequired,onChangeLogo:C().func.isRequired,onResetMenuLogo:C().func.isRequired};const rn=Et,bt={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}}},sn=(m=bt,d)=>(0,Ze.default)(m,c=>{switch(d.type){case"SET_CUSTOM_MENU_LOGO":{c.menuLogo.display=d.value,c.menuLogo.submit.rawFile=d.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{c.menuLogo.display=null,c.menuLogo.submit={rawFile:null,isReset:!0};break}default:return c}});var Wt=a(86349),ln=a.n(Wt);const Ut=(m,d)=>ln()(m,{menuLogo:{display:d.menuLogo}}),St=(0,e.forwardRef)(({projectSettingsStored:m},d)=>{const{formatMessage:c}=(0,W.useIntl)(),{trackUsage:f}=(0,E.useTracking)(),{logos:{menu:u}}=(0,Te.um)(),[{menuLogo:T},M]=(0,e.useReducer)(sn,bt,()=>Ut(bt,m)),O=D=>{M({type:"SET_CUSTOM_MENU_LOGO",value:D})},v=()=>{f("didClickResetLogo"),M({type:"RESET_CUSTOM_MENU_LOGO"})};return(0,e.useImperativeHandle)(d,()=>({getValues:()=>({menuLogo:T.submit})})),e.createElement(L.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(G.Typography,{variant:"delta",as:"h3"},c({id:"Settings.application.customization",defaultMessage:"Customization"})),e.createElement(b.Grid,{paddingTop:4},e.createElement(b.GridItem,{col:6,s:12},e.createElement(rn,{onChangeLogo:O,customLogo:T.display,defaultLogo:u.default,onResetMenuLogo:v}))))});St.defaultProps={projectSettingsStored:null},St.propTypes={projectSettingsStored:C().shape({menuLogo:C().shape({url:C().string,name:C().string})})};const pt=St;var cn=a(71707),Dt=a(48344),zn=a.n(Dt),lt=Object.defineProperty,Zn=Object.defineProperties,dn=Object.getOwnPropertyDescriptors,kt=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,mt=(m,d,c)=>d in m?lt(m,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[d]=c,Kn=(m,d)=>{for(var c in d||(d={}))un.call(d,c)&&mt(m,c,d[c]);if(kt)for(var c of kt(d))Hn.call(d,c)&&mt(m,c,d[c]);return m},ft=(m,d)=>Zn(m,dn(d));const xt=m=>zn()(m,(d,c,f)=>{c&&c.url?d[f]=ft(Kn({},c),{url:(0,E.prefixFileUrlWithBackendUrl)(c.url)}):d[f]=c},{});var Mt=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{O(c.next(v))}catch(D){u(D)}},M=v=>{try{O(c.throw(v))}catch(D){u(D)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);O((c=c.apply(m,d)).next())});const mn=()=>Mt(void 0,null,function*(){const{data:m}=yield cn.be.get("/admin/project-settings");return xt(m)}),Vt=m=>Mt(void 0,null,function*(){const{data:d}=yield cn.be.post("/admin/project-settings",m);return xt(d)}),Gt=m=>{const d=new FormData;return Object.entries(m).forEach(([c,f])=>{f&&f.rawFile instanceof File&&d.append(c,f.rawFile),f&&f.isReset&&d.append(c,null)}),d};var fn=(m,d,c)=>new Promise((f,u)=>{var T=v=>{try{O(c.next(v))}catch(D){u(D)}},M=v=>{try{O(c.throw(v))}catch(D){u(D)}},O=v=>v.done?f(v.value):Promise.resolve(v.value).then(T,M);O((c=c.apply(m,d)).next())});const zt=[{action:"admin::project-settings.update",subject:null}],Yn=()=>{const m=(0,e.useRef)(),d=(0,E.useNotification)(),{trackUsage:c}=(0,E.useTracking)(),{formatMessage:f}=(0,W.useIntl)(),u=(0,We.useQueryClient)();(0,E.useFocusWhenNavigate)();const T=(0,E.useAppInfos)(),{shouldUpdateStrapi:M,latestStrapiReleaseTag:O,strapiVersion:v}=T,{updateProjectSettings:D}=(0,Te.um)(),{data:_}=(0,We.useQuery)("project-settings",mn),Ce=T.communityEdition?"app.components.UpgradePlanModal.text-ce":"app.components.UpgradePlanModal.text-ee",Le=(0,We.useMutation)(st=>Vt(st),{onSuccess:st=>fn(void 0,[st],function*({menuLogo:at}){yield u.invalidateQueries("project-settings",{refetchActive:!0}),D({menuLogo:at==null?void 0:at.url})})}),ct=()=>{const st=m.current.getValues(),at=Gt(st);Le.mutate(at,{onSuccess:()=>{const{menuLogo:dt}=st;dt.rawFile&&c("didChangeLogo")},onError:()=>{d({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}})};return e.createElement(H.Layout,null,e.createElement(E.SettingsPageTitle,{name:"Application"}),e.createElement(J.Main,null,e.createElement(H.HeaderLayout,{title:f({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:f({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:e.createElement(U.Button,{onClick:ct,startIcon:e.createElement(Se(),null)},f({id:"global.save",defaultMessage:"Save"}))}),e.createElement(H.ContentLayout,null,e.createElement(fe.Stack,{spacing:6},e.createElement(L.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},e.createElement(fe.Stack,{spacing:5},e.createElement(G.Typography,{variant:"delta",as:"h3"},f({id:"global.details",defaultMessage:"Details"})),e.createElement(b.Grid,{paddingTop:1},e.createElement(b.GridItem,{col:6,s:12},e.createElement(G.Typography,{variant:"sigma",textColor:"neutral600"},f({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),e.createElement(G.Typography,{as:"p"},"v",v),e.createElement(q.Link,{href:T.communityEdition?"https://discord.strapi.io":"https://support.strapi.io/support/home",isExternal:!0,endIcon:e.createElement(Qe(),null)},f({id:"Settings.application.get-help",defaultMessage:"Get help"}))),e.createElement(b.GridItem,{col:6,s:12},e.createElement(G.Typography,{variant:"sigma",textColor:"neutral600"},f({id:"Settings.application.edition-title",defaultMessage:"current plan"})),e.createElement(G.Typography,{as:"p"},f({id:Ce,defaultMessage:`${T.communityEdition?"Community Edition":"Enterprise Edition"}`})))),e.createElement(b.Grid,{paddingTop:1},e.createElement(b.GridItem,{col:6,s:12},M&&e.createElement(q.Link,{href:`https://github.com/strapi/strapi/releases/tag/${O}`,isExternal:!0,endIcon:e.createElement(Qe(),null)},f({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"}))),e.createElement(b.GridItem,{col:6,s:12},e.createElement(q.Link,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement(Qe(),null)},f({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),e.createElement(L.Box,{paddingTop:1},e.createElement(G.Typography,{variant:"sigma",textColor:"neutral600"},f({id:"Settings.application.node-version",defaultMessage:"node version"})),e.createElement(G.Typography,{as:"p"},T.nodeVersion)))),_&&e.createElement(E.CheckPermissions,{permissions:zt},e.createElement(pt,{ref:m,projectSettingsStored:_}))))))};var hn=a(3704),Zt=a.n(hn);const Ht=m=>Zt()(m,c=>c.links).map(c=>(0,ge.ot)(c.Component,c.to,c.exact||!1)),yn=m=>m.filter(d=>!d.links.every(c=>c.isDisplayed===!1));var vn=a(10805),Kt=a(28731),ve=a.n(Kt),ot=function(d,c,f){return new Promise(function(u,T){var M=function(_){try{v(f.next(_))}catch(Ce){T(Ce)}},O=function(_){try{v(f.throw(_))}catch(Ce){T(Ce)}},v=function(_){return _.done?u(_.value):Promise.resolve(_.value).then(M,O)};v((f=f.apply(d,c)).next())})},Xt=function(){return window&&window.strapi&&window.strapi.isEE?a(20332).Z:a(4754).Z}(),Yt=function(){return window&&window.strapi&&window.strapi.isEE?a(24306).Z:a(16639).Z}(),Cn=[{Component:function(){return{default:Yt}},to:"/settings/roles",exact:!0},{Component:function(){return{default:Xt}},to:"/settings/roles/duplicate/:id",exact:!0},{Component:function(){return{default:Xt}},to:"/settings/roles/new",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(2544).then(a.bind(a,15099));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/roles/:id",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(5199).then(a.bind(a,20620));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/users",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4263).then(a.bind(a,54553));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/users/:id",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,4775));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/webhooks/create",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Promise.all([a.e(4715),a.e(5162)]).then(a.bind(a,47776));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/webhooks/:id",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4121).then(a.bind(a,36453));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/webhooks",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(8056).then(a.bind(a,38916));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/api-tokens",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(4299).then(a.bind(a,56103));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/api-tokens/create",exact:!0},{Component:function(){return ot(void 0,null,ve().mark(function d(){var c;return ve().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.e(92).then(a.bind(a,88960));case 2:return c=u.sent,u.abrupt("return",c);case 4:case"end":return u.stop()}},d)}))},to:"/settings/api-tokens/:id",exact:!0}];const En=Cn;var Qt=function(){return window&&window.strapi&&window.strapi.isEE?a(92786).Z:a(7592).Z}();const bn=[].concat((0,vn.Z)(Qt),(0,vn.Z)(En));var ht=a(89420),qn=Object.defineProperty,Sn=Object.defineProperties,Pn=Object.getOwnPropertyDescriptors,Lt=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable,It=(m,d,c)=>d in m?qn(m,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[d]=c,Jt=(m,d)=>{for(var c in d||(d={}))Tn.call(d,c)&&It(m,c,d[c]);if(Lt)for(var c of Lt(d))An.call(d,c)&&It(m,c,d[c]);return m},qt=(m,d)=>Sn(m,Pn(d));const _t=({menu:m})=>{const{formatMessage:d}=(0,W.useIntl)(),f=yn(m).map(T=>qt(Jt({},T),{title:T.intlLabel,links:T.links.map(M=>qt(Jt({},M),{title:M.intlLabel,name:M.id}))})),u=d({id:"global.settings",defaultMessage:"Settings"});return e.createElement(ht.SubNav,{ariaLabel:u},e.createElement(ht.SubNavHeader,{label:u}),e.createElement(ht.SubNavSections,null,f.map(T=>e.createElement(ht.SubNavSection,{key:T.id,label:d(T.intlLabel)},T.links.map(M=>e.createElement(ht.SubNavLink,{as:s.NavLink,withBullet:M.hasNotification,to:M.to,key:M.id},d(M.intlLabel)))))))};_t.propTypes={menu:C().array.isRequired};const Ft=_t;function en(){const{settingId:m}=(0,s.useParams)(),{settings:d}=(0,E.useStrapiApp)(),{formatMessage:c}=(0,W.useIntl)(),{isLoading:f,menu:u}=(0,Te.Te)(),T=(0,e.useMemo)(()=>(0,ge.WW)(bn.map(({to:v,Component:D,exact:_})=>(0,ge.ot)(D,v,_))),[]),M=Ht(d);if(f)return e.createElement(E.LoadingIndicatorPage,null);if(!m)return e.createElement(s.Redirect,{to:"/settings/application-infos"});const O=c({id:"global.settings",defaultMessage:"Settings"});return e.createElement(H.Layout,{sideNav:e.createElement(Ft,{menu:u})},e.createElement(Fe.Helmet,{title:O}),e.createElement(s.Switch,null,e.createElement(s.Route,{path:"/settings/application-infos",component:Yn,exact:!0}),T,M))}const On=(0,e.memo)(en)},4754:(he,x,a)=>{a.d(x,{Z:()=>H});var e=a(32735),E=a(5141);const H=()=>e.createElement(E.Redirect,{to:"/404"})},38692:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!0},82537:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!0},11090:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!0},65597:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!0},35776:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!0},332:(he,x,a)=>{a.d(x,{Z:()=>gr});var e=a(32735),E=a(60216),s=a.n(E),H=a(55851),W=a(81700),Fe=a(23973),Te=a.n(Fe),ge=a(86834),We=a.n(ge),J=a(5636),L=a(9808),b=a(19615),G=a(98978),fe=a.n(G),U=a(40341),q=a(67793),et=a.n(q),Qe=a(31476),Ve=a.n(Qe),Se=a(35980),X=a(19192),C=a(33795),ce=a.n(C),Ge=a(9086),ze=a.n(Ge),ne=a(4187),de=a(42258),ue=a.n(de),Ze=a(44526);const Je=b.default.div`
  position: relative;

  ${({hasConditions:o,disabled:t,theme:n})=>o&&`
    &:before {
      content: '';
      position: absolute;
      top: -3px;
      left: -10px;
      width: 6px;
      height: 6px;
      border-radius: ${20/16}rem;;
      background: ${t?n.colors.neutral100:n.colors.primary600};
    }
  `}
`,tt=({onClick:o,className:t,hasConditions:n,variant:r})=>{const{formatMessage:i}=(0,J.useIntl)();return e.createElement(Je,{hasConditions:n,className:t},e.createElement(Ze.Button,{variant:r,startIcon:e.createElement(ue(),null),onClick:o},i({id:"global.settings",defaultMessage:"Settings"})))};tt.defaultProps={className:null,hasConditions:!1,variant:"tertiary"},tt.propTypes={onClick:s().func.isRequired,className:s().string,hasConditions:s().bool,variant:s().string};const $e=(0,b.default)(tt)``;var Ae=a(27635),He=a(90662),it=a(4122),re=a(71657),I=a(95602),oe=a(49415),A=a(81346),te=a.n(A),se=a(23940),z=a.n(se),pe=a(5731),Z=a(10805),k=a(25716);const ae=`${120/16}rem`,Me=`${200/16}rem`,Ke=`${53/16}rem`;function qe(o,t){var n=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!n){if(Array.isArray(o)||(n=rt(o))||t&&o&&typeof o.length=="number"){n&&(o=n);var r=0,i=function(){};return{s:i,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(y){throw y},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,p=!1,g;return{s:function(){n=n.call(o)},n:function(){var y=n.next();return l=y.done,y},e:function(y){p=!0,g=y},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(p)throw g}}}}function rt(o,t){if(!!o){if(typeof o=="string")return _e(o,t);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(o,t)}}function _e(o,t){(t==null||t>o.length)&&(t=o.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=o[n];return r}var j=Object.defineProperty,ie=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Be=function(t,n,r){return n in t?j(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r},Ue=function(t,n){for(var r in n||(n={}))V.call(n,r)&&Be(t,r,n[r]);if(ie){var i=qe(ie(n)),l;try{for(i.s();!(l=i.n()).done;){var r=l.value;K.call(n,r)&&Be(t,r,n[r])}}catch(p){i.e(p)}finally{i.f()}}return t},Xe=function(){return window&&window.strapi&&window.strapi.isEE?a(47465).Z:a(38692).Z}(),Q=(0,b.default)(X.Flex).withConfig({displayName:"ActionRow__FlexWrapper",componentId:"sc-1bqpgdl-0"})(["height:",";"],Ke),ye=function(t){var n=t.arrayOfOptionsGroupedByCategory,r=t.isFormDisabled,i=t.isGrey,l=t.label,p=t.name,g=t.onChange,h=t.value,y=(0,J.useIntl)(),P=y.formatMessage,F=n.reduce(function(w,N){var R=(0,U.Z)(N,2),B=R[0],Y=R[1],le={label:z()(B),children:Y.map(function(Re){return{label:Re.displayName,value:Re.id}})};return[].concat((0,Z.Z)(w),[le])},[]),$=Object.values(h).map(function(w){return Object.entries(w).filter(function(N){var R=(0,U.Z)(N,2),B=R[1];return B}).map(function(N){var R=(0,U.Z)(N,1),B=R[0];return B})}).flat(),ee=function(N){var R=(0,U.Z)(n,1),B=(0,U.Z)(R[0],2),Y=B[1],le=Y.reduce(function(Re,Ee){return Ue((0,pe.Z)({},Ee.id,N.includes(Ee.id)),Re)},{});g(p,le)};return e.createElement(Q,{as:"li",background:i?"neutral100":"neutral0"},e.createElement(X.Flex,{paddingLeft:6,style:{width:180}},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral600"},P({id:"Settings.permissions.conditions.can",defaultMessage:"Can"}),"\xA0"),e.createElement(I.Typography,{variant:"sigma",title:l,textColor:"primary600",ellipsis:!0},P({id:"Settings.roles.form.permissions.".concat(l.toLowerCase()),defaultMessage:l})),e.createElement(I.Typography,{variant:"sigma",textColor:"neutral600"},"\xA0",P({id:"Settings.permissions.conditions.when",defaultMessage:"When"}))),e.createElement(L.Box,{style:{maxWidth:430,width:"100%"}},e.createElement(k.MultiSelectNested,{id:p,customizeContent:function(N){return"".concat(N.length," currently selected")},onChange:ee,value:$,options:F,disabled:r||Xe})))};ye.propTypes={arrayOfOptionsGroupedByCategory:s().array.isRequired,isFormDisabled:s().bool.isRequired,isGrey:s().bool.isRequired,label:s().string.isRequired,name:s().string.isRequired,value:s().object.isRequired,onChange:s().func.isRequired};const Oe=ye;var S=a(92891);const nn=(o,t)=>o.reduce((n,r)=>(n[r.id]=(0,S.get)(t,r.id,!1),n),{}),Un=(o,t)=>o.reduce((n,r)=>{const[i,l]=r,p=nn(l,t);return n[i]=p,n},{}),on=(o,t,n)=>o.reduce((r,i)=>{const l=(0,S.get)(t,[...i.pathToConditionsObject,"conditions"],{}),p=Un(n,l);return r[i.pathToConditionsObject.join("..")]=p,r},{});var At=Object.defineProperty,wt=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,an=Object.prototype.propertyIsEnumerable,nt=(o,t,n)=>t in o?At(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Rt=(o,t)=>{for(var n in t||(t={}))Ot.call(t,n)&&nt(o,n,t[n]);if(wt)for(var n of wt(t))an.call(t,n)&&nt(o,n,t[n]);return o};const jt=({actions:o,headerBreadCrumbs:t,isFormDisabled:n,onClosed:r,onToggle:i})=>{const{formatMessage:l}=(0,J.useIntl)(),{availableConditions:p,modifiedData:g,onChangeConditions:h}=(0,ne.$_)(),y=(0,e.useMemo)(()=>Object.entries(te()(p,"category")),[p]),P=o.filter(({isDisplayed:R,hasSomeActionsSelected:B,hasAllActionsSelected:Y})=>R&&(B||Y)),F=(0,e.useMemo)(()=>on(P,g,y),[P,g,y]),[$,ee]=(0,e.useState)(F),w=(R,B)=>{ee((0,oe.default)(Y=>{Y[R]||(Y[R]={}),Y[R].default||(Y[R].default={}),Y[R].default=B}))},N=()=>{const R=Object.entries($).reduce((B,Y)=>{const[le,Re]=Y,Ee=Object.values(Re).reduce((De,we)=>Rt(Rt({},De),we),{});return B[le]=Ee,B},{});h(R),i()};return e.createElement(it.ModalLayout,{labelledBy:"condition-modal-breadcrumbs",onClose:r},e.createElement(it.ModalHeader,null,e.createElement(re.Breadcrumbs,{id:"condition-modal-breadcrumbs",label:t.join(", ")},t.map(R=>e.createElement(re.Crumb,{key:R},z()(l({id:R,defaultMessage:R})))))),e.createElement(L.Box,{padding:8},e.createElement(He.Stack,{spacing:6},e.createElement(I.Typography,{variant:"beta",as:"h2"},l({id:"Settings.permissions.conditions.define-conditions",defaultMessage:"Define conditions"})),e.createElement(L.Box,null,e.createElement(Ae.Divider,null)),e.createElement(L.Box,null,P.length===0&&e.createElement(I.Typography,null,l({id:"Settings.permissions.conditions.no-actions",defaultMessage:"You first need to select actions (create, read, update, ...) before defining conditions on them."})),e.createElement("ul",null,P.map(({actionId:R,label:B,pathToConditionsObject:Y},le)=>{const Re=Y.join("..");return e.createElement(Oe,{key:R,arrayOfOptionsGroupedByCategory:y,label:B,isFormDisabled:n,isGrey:le%2===0,name:Re,onChange:w,value:ce()($,Re,{})})}))))),e.createElement(it.ModalFooter,{startActions:e.createElement(Ze.Button,{variant:"tertiary",onClick:i},l({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:e.createElement(Ze.Button,{onClick:N},l({id:"Settings.permissions.conditions.apply",defaultMessage:"Apply"}))}))};jt.propTypes={actions:s().arrayOf(s().shape({actionId:s().string.isRequired,checkboxName:s().string,hasSomeActionsSelected:s().bool.isRequired,hasAllActionsSelected:s().bool,isDisplayed:s().bool.isRequired,label:s().string})).isRequired,headerBreadCrumbs:s().arrayOf(s().string).isRequired,isFormDisabled:s().bool.isRequired,onClosed:s().func.isRequired,onToggle:s().func.isRequired};const Ct=jt,Nt=b.default.div`
  width: ${ae};
`,Et=(0,b.default)(X.Flex)`
  padding-right: ${({theme:o})=>o.spaces[2]};
  overflow: hidden;
  flex: 1;
  ${({isCollapsable:o})=>o&&"cursor: pointer;"}
`;var rn=Object.defineProperty,bt=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable,Wt=(o,t,n)=>t in o?rn(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,ln=(o,t)=>{for(var n in t||(t={}))Gn.call(t,n)&&Wt(o,n,t[n]);if(bt)for(var n of bt(t))sn.call(t,n)&&Wt(o,n,t[n]);return o};const $t=({children:o,isCollapsable:t,isActive:n,isFormDisabled:r,label:i,onChange:l,onClick:p,checkboxName:g,someChecked:h,value:y})=>{const{formatMessage:P}=(0,J.useIntl)();return e.createElement(X.Flex,{alignItems:"center",paddingLeft:6,style:{width:Me,flexShrink:0}},e.createElement(L.Box,{paddingRight:2},e.createElement(Se.BaseCheckbox,{name:g,"aria-label":P({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:i}),disabled:r,onValueChange:F=>l({target:{name:g,value:F}}),indeterminate:h,value:y})),e.createElement(Et,ln({title:i,alignItems:"center",isCollapsable:t},t&&{onClick:p,"aria-expanded":n,onKeyDown:({key:F})=>(F==="Enter"||F===" ")&&p(),tabIndex:0,role:"button"}),e.createElement(I.Typography,{fontWeight:n?"bold":"",textColor:n?"primary600":"neutral800",ellipsis:!0},z()(i)),o))};$t.defaultProps={children:null,checkboxName:"",onChange:()=>{},value:!1,someChecked:!1,isCollapsable:!1},$t.propTypes={checkboxName:s().string,children:s().node,label:s().string.isRequired,isCollapsable:s().bool,isFormDisabled:s().bool.isRequired,onChange:s().func,onClick:s().func.isRequired,someChecked:s().bool,value:s().bool,isActive:s().bool.isRequired};const Ut=(0,e.memo)($t),St=o=>(0,S.isObject)(o)?(0,S.flattenDeep)(Object.values(o).map(t=>(0,S.isObject)(t)?St(t):t)):[],pt=St,Dt=o=>o?Object.keys(o).reduce((t,n)=>(n!=="conditions"&&(t[n]=o[n]),t),{}):null,lt=o=>{const t=Dt(o),n=pt(t);if(!n.length)return{hasAllActionsSelected:!1,hasSomeActionsSelected:!1};const r=n.every(l=>l),i=n.some(l=>l)&&!r;return{hasAllActionsSelected:r,hasSomeActionsSelected:i}},dn=(o,t,n)=>o.map(({actionId:r,isDisplayed:i,applyToProperties:l,label:p})=>{if(!i)return{actionId:r,hasSomeActionsSelected:!1,isDisplayed:i};const g=[...n.split(".."),r],h=(0,S.isEmpty)(l)?[...g,"properties","enabled"]:g,y=h.join(".."),P=(0,S.get)(t,[...g,"conditions"],null),F=pt(P).some(N=>N);if((0,S.isEmpty)(l)){const N=(0,S.get)(t,h,!1);return{actionId:r,checkboxName:y,hasAllActionsSelected:N,hasConditions:F,hasSomeActionsSelected:N,isDisplayed:i,isParentCheckbox:!1,label:p,pathToConditionsObject:g}}const $=(0,S.get)(t,h,null),{hasAllActionsSelected:ee,hasSomeActionsSelected:w}=lt($);return{actionId:r,checkboxName:y,hasAllActionsSelected:ee,hasConditions:F,hasSomeActionsSelected:w,isDisplayed:i,isParentCheckbox:!0,label:p,pathToConditionsObject:g}});var kt=a(60672),un=a.n(kt);const mt=(0,b.default)(un())`
  display: none;
  width: ${10/16}rem;
  transform: rotate(${({$isActive:o})=>o?"180":"0"}deg);
  margin-left: ${({theme:o})=>o.spaces[2]};
`,ft=o=>`
  ${I.Typography} {
    color: ${o.colors.primary600};
    font-weight: ${o.fontWeights.bold}
  }
  ${mt} {
    display: block;
    path {
      fill: ${o.colors.primary600}
    };
  }
`;var pn=function(){return window&&window.strapi&&window.strapi.isEE?a(34819).Z:a(82537).Z}(),xt=function o(t,n){return`
  `.concat(Mt,` {
    background-color: `).concat(t.colors.primary100,`;
    color: `).concat(t.colors.primary600,`;
    border-radius: `).concat(n?"2px 2px 0 0":"2px",`;
  }
  `).concat(gn,` {
    display: flex;
  }
  `).concat($e,` {
    display: block;
  }
  &:hover {
   `).concat(ft(t),`
  }

  &:focus-within {
    `).concat(function(r){var i=r.theme,l=r.isActive;return o(i,l)},`
  }
  
`)},Mt=b.default.div.withConfig({displayName:"Collapse__Wrapper",componentId:"sc-132fji1-0"})(["flex:1;display:flex;align-items:center;height:",";background-color:",";border:1px solid transparent;"],Ke,function(o){var t=o.isGrey,n=o.theme;return t?n.colors.neutral100:n.colors.neutral0}),mn=b.default.div.withConfig({displayName:"Collapse__BoxWrapper",componentId:"sc-132fji1-1"})(["display:inline-flex;min-width:100%;","{display:none;}"," &:hover{","}"],$e,function(o){var t=o.isActive,n=o.theme;return t&&xt(n,t)},function(o){var t=o.theme,n=o.isActive;return xt(t,n)}),Vt=(0,b.default)(X.Flex).withConfig({displayName:"Collapse__Cell",componentId:"sc-132fji1-2"})(["width:",";position:relative;"],ae),gn=(0,b.default)(L.Box).withConfig({displayName:"Collapse__Chevron",componentId:"sc-132fji1-3"})(["display:none;svg{width:11px;}*{fill:",";}"],function(o){var t=o.theme;return t.colors.primary600}),Gt=b.default.span.withConfig({displayName:"Collapse__TinyDot",componentId:"sc-132fji1-4"})(["position:absolute;top:-6px;left:37px;width:6px;height:6px;border-radius:20px;background:",";"],function(o){var t=o.theme;return t.colors.primary600}),fn=(0,b.default)(L.Box).withConfig({displayName:"Collapse__AbsoluteBox",componentId:"sc-132fji1-5"})(["position:absolute;right:9px;transform:translateY(10px);"]),zt=function(t){var n=t.availableActions,r=t.isActive,i=t.isGrey,l=t.isFormDisabled,p=t.label,g=t.onClickToggle,h=t.pathToData,y=(0,e.useState)(!1),P=(0,U.Z)(y,2),F=P[0],$=P[1],ee=(0,J.useIntl)(),w=ee.formatMessage,N=(0,ne.$_)(),R=N.modifiedData,B=N.onChangeParentCheckbox,Y=N.onChangeSimpleCheckbox,le=function(){$(function(Pe){return!Pe})},Re=function(){$(!1)},Ee=ce()(R,h.split(".."),{}),De=(0,e.useMemo)(function(){return Object.keys(Ee).reduce(function(me,Pe){return me[Pe]=ze()(Ee[Pe],"conditions"),me},{})},[Ee]),we=lt(De),Ie=we.hasAllActionsSelected,yt=we.hasSomeActionsSelected,be=(0,e.useMemo)(function(){return dn(n,R,h)},[n,R,h]),je=be.some(function(me){var Pe=me.hasConditions;return Pe});return e.createElement(mn,{isActive:r},e.createElement(Mt,{isGrey:i},e.createElement(Ut,{isCollapsable:!0,isFormDisabled:l,label:p,checkboxName:h,onChange:B,onClick:g,someChecked:yt,value:Ie,isActive:r},e.createElement(gn,{paddingLeft:2},r?e.createElement(Ve(),null):e.createElement(et(),null))),e.createElement(X.Flex,{style:{flex:1}},be.map(function(me){var Pe=me.actionId,xe=me.hasConditions,Ne=me.hasAllActionsSelected,ke=me.hasSomeActionsSelected,gt=me.isDisplayed,Ye=me.isParentCheckbox,ut=me.checkboxName,Pt=me.label;return gt?Ye?e.createElement(Vt,{key:Pe,justifyContent:"center",alignItems:"center"},xe&&e.createElement(Gt,null),e.createElement(Se.BaseCheckbox,{disabled:l||pn,name:ut,"aria-label":w({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(Pt," ").concat(p)}),onValueChange:function(vt){B({target:{name:ut,value:vt}})},indeterminate:ke,value:Ne})):e.createElement(Vt,{key:Pe,justifyContent:"center",alignItems:"center"},xe&&e.createElement(Gt,null),e.createElement(Se.BaseCheckbox,{disabled:l||pn,indeterminate:xe,name:ut,onValueChange:function(vt){Y({target:{name:ut,value:vt}})},value:Ne})):e.createElement(Nt,{key:Pe})})),F&&e.createElement(Ct,{headerBreadCrumbs:[p,"app.components.LeftMenuLinkContainer.settings"],actions:be,isFormDisabled:l,onClosed:Re,onToggle:le})),e.createElement(fn,null,e.createElement($e,{onClick:le,hasConditions:je})))};zt.propTypes={availableActions:s().array.isRequired,isActive:s().bool.isRequired,isGrey:s().bool.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,onClickToggle:s().func.isRequired,pathToData:s().string.isRequired};const Xn=zt,hn=(o,t)=>o.map(n=>{const r=Array.isArray(n.applyToProperties)&&n.applyToProperties.indexOf(t)!==-1&&n.isDisplayed;return{label:n.label,actionId:n.actionId,isActionRelatedToCurrentProperty:r}}),Zt=(0,b.default)(X.Flex)`
  width: ${ae};
  flex-shrink: 0;
`,Qn=(0,b.default)(X.Flex)`
  width: ${Me};
  height: ${Ke};
  flex-shrink: 0;
`,Ht=({headers:o,label:t})=>{const{formatMessage:n}=(0,J.useIntl)(),r=n({id:"Settings.roles.form.permission.property-label",defaultMessage:"{label} permissions"},{label:t});return e.createElement(X.Flex,null,e.createElement(Qn,{alignItems:"center",paddingLeft:6},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral500"},r)),o.map(i=>i.isActionRelatedToCurrentProperty?e.createElement(Zt,{justifyContent:"center",key:i.label},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral500"},n({id:`Settings.roles.form.permissions.${i.label.toLowerCase()}`,defaultMessage:i.label}))):e.createElement(Zt,{key:i.label})))};Ht.propTypes={headers:s().arrayOf(s().shape({label:s().string.isRequired,isActionRelatedToCurrentProperty:s().bool.isRequired})).isRequired,label:s().string.isRequired};const Jn=Ht,yn=b.default.span`
  color: ${({theme:o})=>o.colors.danger700};
  padding-left: ${({theme:o})=>o.spaces[1]}px;
`,Kt=()=>e.createElement(yn,null,"*");var ve=Object.defineProperty,ot=Object.defineProperties,Xt=Object.getOwnPropertyDescriptors,Yt=Object.getOwnPropertySymbols,Cn=Object.prototype.hasOwnProperty,En=Object.prototype.propertyIsEnumerable,Qt=(o,t,n)=>t in o?ve(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,bn=(o,t)=>{for(var n in t||(t={}))Cn.call(t,n)&&Qt(o,n,t[n]);if(Yt)for(var n of Yt(t))En.call(t,n)&&Qt(o,n,t[n]);return o},ht=(o,t)=>ot(o,Xt(t));const Sn=(o,t)=>o.map(n=>{const r=Array.isArray(n.subjects)&&n.subjects.indexOf(t)!==-1;return ht(bn({},n),{isDisplayed:r})});var Pn=Object.defineProperty,Lt=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable,It=(o,t,n)=>t in o?Pn(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Jt=(o,t)=>{for(var n in t||(t={}))Tn.call(t,n)&&It(o,n,t[n]);if(Lt)for(var n of Lt(t))An.call(t,n)&&It(o,n,t[n]);return o};const qt=(0,b.default)(L.Box)`
  transform: translate(-4px, -12px);

  &:before {
    content: '';
    width: ${4/16}rem;
    height: ${12/16}rem;
    background: ${({theme:o})=>o.colors.primary200};
    display: block;
  }
`,_t=b.default.svg`
  position: relative;
  flex-shrink: 0;
  transform: translate(-0.5px, -1px);

  * {
    fill: ${({theme:o,color:t})=>o.colors[t]};
  }
`,Ft=o=>e.createElement(qt,null,e.createElement(_t,Jt({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z",fill:"#D9D8FF"})));Ft.defaultProps={fill:"primary200"},Ft.propTypes={fill:s().string};const en=(0,e.memo)(Ft);function On(o,t){var n=typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!n){if(Array.isArray(o)||(n=m(o))||t&&o&&typeof o.length=="number"){n&&(o=n);var r=0,i=function(){};return{s:i,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(y){throw y},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,p=!1,g;return{s:function(){n=n.call(o)},n:function(){var y=n.next();return l=y.done,y},e:function(y){p=!0,g=y},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(p)throw g}}}}function m(o,t){if(!!o){if(typeof o=="string")return d(o,t);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(o,t)}}function d(o,t){(t==null||t>o.length)&&(t=o.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=o[n];return r}var c=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,v=function(t,n,r){return n in t?c(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r},D=function(t,n){for(var r in n||(n={}))M.call(n,r)&&v(t,r,n[r]);if(T){var i=On(T(n)),l;try{for(i.s();!(l=i.n()).done;){var r=l.value;O.call(n,r)&&v(t,r,n[r])}}catch(p){i.e(p)}finally{i.f()}}return t},_=function(t,n){return f(t,u(n))},Ce=function(){return window&&window.strapi&&window.strapi.isEE?a(52367).Z:a(65597).Z}(),Le=(0,b.default)(X.Flex).withConfig({displayName:"SubActionRow__Cell",componentId:"sc-7y8yzq-0"})(["width:",";position:relative;"],ae),ct=(0,b.default)(X.Flex).withConfig({displayName:"SubActionRow__RowWrapper",componentId:"sc-7y8yzq-1"})(["height:",";"],Ke),st=(0,b.default)(L.Box).withConfig({displayName:"SubActionRow__Wrapper",componentId:"sc-7y8yzq-2"})(["padding-left:","rem;"],31/16),at=(0,b.default)(L.Box).withConfig({displayName:"SubActionRow__LeftBorderTimeline",componentId:"sc-7y8yzq-3"})(["border-left:",";"],function(o){var t=o.isVisible,n=o.theme;return t?"4px solid ".concat(n.colors.primary200):"4px solid transparent"}),dt=(0,b.default)(X.Flex).withConfig({displayName:"SubActionRow__RowStyle",componentId:"sc-7y8yzq-4"})(["padding-left:",";width:","px;"," ",";"],function(o){var t=o.theme;return t.spaces[4]},function(o){var t=o.level;return 145-t*36},function(o){var t=o.isCollapsable,n=o.theme;return t&&`
      `.concat(mt,` {
        display: block;
        color: `).concat(n.colors.neutral100,`;
      }
      &:hover {
        `).concat(ft(n),`
      }
  `)},function(o){var t=o.isActive,n=o.theme;return t&&ft(n)}),zo=b.default.div.withConfig({displayName:"SubActionRow__TopTimeline",componentId:"sc-7y8yzq-5"})(["padding-top:",";margin-top:",";width:","rem;background-color:",";border-top-left-radius:2px;border-top-right-radius:2px;"],function(o){var t=o.theme;return t.spaces[2]},function(o){var t=o.theme;return t.spaces[2]},4/16,function(o){var t=o.theme;return t.colors.primary200}),_n=function o(t){var n=t.childrenForm,r=t.isFormDisabled,i=t.recursiveLevel,l=t.pathToDataFromActionRow,p=t.propertyActions,g=t.parentName,h=t.propertyName,y=(0,J.useIntl)(),P=y.formatMessage,F=(0,ne.$_)(),$=F.modifiedData,ee=F.onChangeParentCheckbox,w=F.onChangeSimpleCheckbox,N=(0,e.useState)(null),R=(0,U.Z)(N,2),B=R[0],Y=R[1],le=function(De){Y(function(we){return we===De?null:De})},Re=(0,e.useMemo)(function(){return B?n.find(function(Ee){var De=Ee.value;return De===B}):null},[B,n]);return e.createElement(st,null,e.createElement(zo,null),n.map(function(Ee,De){var we=Ee.label,Ie=Ee.value,yt=Ee.required,be=Ee.children,je=De+1<n.length,me=Array.isArray(be),Pe=B===Ie;return e.createElement(at,{key:Ie,isVisible:je},e.createElement(ct,null,e.createElement(en,{color:"primary200"}),e.createElement(X.Flex,{style:{flex:1}},e.createElement(dt,{level:i,isActive:Pe,isCollapsable:me},e.createElement(Et,_(D({alignItems:"center",isCollapsable:me},me&&{onClick:function(){return le(Ie)},"aria-expanded":Pe,onKeyDown:function(Ne){var ke=Ne.key;return(ke==="Enter"||ke===" ")&&le(Ie)},tabIndex:0,role:"button"}),{title:we}),e.createElement(I.Typography,{ellipsis:!0},z()(we)),yt&&e.createElement(Kt,null),e.createElement(mt,{$isActive:Pe}))),e.createElement(X.Flex,{style:{flex:1}},p.map(function(xe){var Ne=xe.actionId,ke=xe.label,gt=xe.isActionRelatedToCurrentProperty;if(!gt)return e.createElement(Nt,{key:Ne});var Ye=[].concat((0,Z.Z)(l.split("..")),[Ne,"properties",h],(0,Z.Z)(g.split("..")),[Ie]),ut=ce()($,Ye,!1);if(!be)return e.createElement(Le,{key:ke,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{disabled:r||Ce,name:Ye.join(".."),"aria-label":P({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(g," ").concat(we," ").concat(ke)}),onValueChange:function(Bt){w({target:{name:Ye.join(".."),value:Bt}})},value:ut}));var Pt=lt(ut),Tt=Pt.hasAllActionsSelected,vt=Pt.hasSomeActionsSelected;return e.createElement(Le,{key:ke,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{key:ke,disabled:r||Ce,name:Ye.join(".."),"aria-label":P({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(g," ").concat(we," ").concat(ke)}),onValueChange:function(Bt){ee({target:{name:Ye.join(".."),value:Bt}})},value:Tt,indeterminate:vt}))})))),Re&&Pe&&e.createElement(L.Box,{paddingBottom:2},e.createElement(o,{isFormDisabled:r,parentName:"".concat(g,"..").concat(Ie),pathToDataFromActionRow:l,propertyActions:p,propertyName:h,recursiveLevel:i+1,childrenForm:Re.children})))}))};_n.propTypes={childrenForm:s().array.isRequired,isFormDisabled:s().bool.isRequired,parentName:s().string.isRequired,pathToDataFromActionRow:s().string.isRequired,propertyActions:s().array.isRequired,propertyName:s().string.isRequired,recursiveLevel:s().number.isRequired};const Zo=(0,e.memo)(_n),Ho=o=>o.reduce((n,r)=>(r.isActionRelatedToCurrentProperty&&n.push(r.actionId),n),[]),Ko=(o,t,n,r,i)=>{const p=Ho(o).reduce((g,h)=>{const y=[...n.split(".."),h,"properties",r,i],P=(0,S.get)(t,y,!1);return g[h]=P,g},{});return lt(p)};var eo=function(){return window&&window.strapi&&window.strapi.isEE?a(46924).Z:a(11090).Z}(),to=(0,b.default)(X.Flex).withConfig({displayName:"ActionRow__Cell",componentId:"sc-4agenc-0"})(["width:",";position:relative;"],ae),Xo=(0,b.default)(X.Flex).withConfig({displayName:"ActionRow__Wrapper",componentId:"sc-4agenc-1"})(["height:",";flex:1;"," ",";"],Ke,function(o){var t=o.isCollapsable,n=o.theme;return t&&`
      `.concat(mt,` {
        display: block;
        color: `).concat(n.colors.neutral100,`;
      }
      &:hover {
        `).concat(ft(n),`
      }
  `)},function(o){var t=o.isActive,n=o.theme;return t&&ft(n)}),Rn=function(t){var n=t.childrenForm,r=t.label,i=t.isFormDisabled,l=t.name,p=t.required,g=t.pathToData,h=t.propertyActions,y=t.propertyName,P=t.isOdd,F=(0,J.useIntl)(),$=F.formatMessage,ee=(0,e.useState)(null),w=(0,U.Z)(ee,2),N=w[0],R=w[1],B=(0,ne.$_)(),Y=B.modifiedData,le=B.onChangeCollectionTypeLeftActionRowCheckbox,Re=B.onChangeParentCheckbox,Ee=B.onChangeSimpleCheckbox,De=N===l,we=(0,e.useMemo)(function(){return Array.isArray(n)?n:[]},[n]),Ie=we.length>0,yt=(0,e.useCallback)(function(){Ie&&R(function(xe){return xe===l?null:l})},[Ie,l]),be=function(Ne){var ke=Ne.target.value;le(g,y,l,ke)},je=(0,e.useMemo)(function(){return Ko(h,Y,g,y,l)},[h,Y,g,y,l]),me=je.hasAllActionsSelected,Pe=je.hasSomeActionsSelected;return e.createElement(e.Fragment,null,e.createElement(Xo,{alignItems:"center",isCollapsable:Ie,isActive:De,background:P?"neutral100":"neutral0"},e.createElement(X.Flex,null,e.createElement(Ut,{onChange:be,onClick:yt,isCollapsable:Ie,isFormDisabled:i,label:r,someChecked:Pe,value:me,isActive:De},p&&e.createElement(Kt,null),e.createElement(mt,{$isActive:De})),e.createElement(X.Flex,null,h.map(function(xe){var Ne=xe.label,ke=xe.isActionRelatedToCurrentProperty,gt=xe.actionId;if(!ke)return e.createElement(Nt,{key:Ne});var Ye=[].concat((0,Z.Z)(g.split("..")),[gt,"properties",y,l]);if(!Ie){var ut=ce()(Y,Ye,!1);return e.createElement(to,{key:gt,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{disabled:i||eo,name:Ye.join(".."),"aria-label":$({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(l," ").concat(Ne)}),onValueChange:function($n){Ee({target:{name:Ye.join(".."),value:$n}})},value:ut}))}var Pt=ce()(Y,Ye,{}),Tt=lt(Pt),vt=Tt.hasAllActionsSelected,Wn=Tt.hasSomeActionsSelected;return e.createElement(to,{key:Ne,justifyContent:"center",alignItems:"center"},e.createElement(Se.BaseCheckbox,{disabled:i||eo,name:Ye.join(".."),onValueChange:function($n){Re({target:{name:Ye.join(".."),value:$n}})},"aria-label":$({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(l," ").concat(Ne)}),value:vt,indeterminate:Wn}))})))),De&&e.createElement(Zo,{childrenForm:we,isFormDisabled:i,parentName:l,pathToDataFromActionRow:g,propertyName:y,propertyActions:h,recursiveLevel:0}))};Rn.defaultProps={childrenForm:[],required:!1},Rn.propTypes={childrenForm:s().array,label:s().string.isRequired,isFormDisabled:s().bool.isRequired,name:s().string.isRequired,pathToData:s().string.isRequired,propertyActions:s().array.isRequired,propertyName:s().string.isRequired,required:s().bool,isOdd:s().bool.isRequired};const Yo=(0,e.memo)(Rn),Qo=b.default.div`
  display: inline-flex;
  flex-direction: column;
  min-width: 0;
`,no=({availableActions:o,childrenForm:t,isFormDisabled:n,label:r,pathToData:i,propertyName:l})=>{const p=(0,e.useMemo)(()=>hn(o,l),[o,l]);return e.createElement(Qo,null,e.createElement(Jn,{label:r,headers:p}),e.createElement(L.Box,null,t.map(({children:g,label:h,value:y,required:P},F)=>e.createElement(Yo,{childrenForm:g,key:y,label:h,isFormDisabled:n,name:y,required:P,propertyActions:p,pathToData:i,propertyName:l,isOdd:F%2===0}))))};no.propTypes={childrenForm:s().array.isRequired,availableActions:s().array.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,pathToData:s().string.isRequired,propertyName:s().string.isRequired};const Jo=no,qo=b.default.div`
  flex-direction: column;
  display: inline-flex;
  min-width: 100%;
  ${({theme:o,isActive:t})=>t&&`border: 1px solid ${o.colors.primary600};`}
`,oo=({allActions:o,contentTypeName:t,label:n,index:r,isActive:i,isFormDisabled:l,onClickToggleCollapse:p,pathToData:g,properties:h})=>{const y=(0,e.useCallback)(()=>{p(t)},[t,p]),P=(0,e.useMemo)(()=>Sn(o,t),[o,t]);return e.createElement(qo,{isActive:i},e.createElement(Xn,{availableActions:P,isActive:i,isGrey:r%2===0,isFormDisabled:l,label:n,onClickToggle:y,pathToData:g}),i&&h.map(({label:F,value:$,children:ee})=>e.createElement(Jo,{availableActions:P,childrenForm:ee,isFormDisabled:l,label:F,pathToData:g,propertyName:$,key:$})))};oo.propTypes={allActions:s().array.isRequired,contentTypeName:s().string.isRequired,index:s().number.isRequired,isActive:s().bool.isRequired,isFormDisabled:s().bool.isRequired,label:s().string.isRequired,onClickToggleCollapse:s().func.isRequired,pathToData:s().string.isRequired,properties:s().array.isRequired};const _o=oo,Dn=({actions:o,isFormDisabled:t,pathToData:n,subjects:r})=>{const[i,l]=(0,e.useState)(null),p=g=>{l(i===g?null:g)};return r.map(({uid:g,label:h,properties:y},P)=>e.createElement(_o,{allActions:o,key:g,contentTypeName:g,label:h,isActive:i===g,isFormDisabled:t,index:P,onClickToggleCollapse:p,pathToData:`${n}..${g}`,properties:y}))};Dn.defaultProps={actions:[],subjects:[]},Dn.propTypes={actions:s().array.isRequired,isFormDisabled:s().bool.isRequired,pathToData:s().string.isRequired,subjects:s().arrayOf(s().shape({uid:s().string.isRequired,label:s().string.isRequired,properties:s().array.isRequired}))};const ea=(0,e.memo)(Dn),ta=o=>o.filter(({subjects:t})=>t&&t.length);var na=Object.defineProperty,ao=Object.getOwnPropertySymbols,oa=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,ro=(o,t,n)=>t in o?na(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,so=(o,t)=>{for(var n in t||(t={}))oa.call(t,n)&&ro(o,n,t[n]);if(ao)for(var n of ao(t))aa.call(t,n)&&ro(o,n,t[n]);return o};const ra=o=>o.map(({actionId:t})=>t),sa=(o,t)=>o.reduce((n,r)=>(Object.keys(t).forEach(i=>{const l=(0,S.get)(t,[i,r],{}),p={[i]:Dt(l)};n[r]?n[r]=so(so({},n[r]),p):n[r]=p}),n),{}),ia=(o,t)=>{const n=ra(o),r=sa(n,t);return Object.keys(r).reduce((l,p)=>(l[p]=lt(r[p]),l),{})};var la=function(){return window&&window.strapi&&window.strapi.isEE?a(4859).Z:a(35776).Z}(),ca=(0,b.default)(He.Stack).withConfig({displayName:"GlobalActions__CenteredStack",componentId:"sc-1vxwsjr-0"})(["align-items:center;justify-content:center;width:",";flex-shrink:0;"],ae),xn=function(t){var n=t.actions,r=t.isFormDisabled,i=t.kind,l=(0,J.useIntl)(),p=l.formatMessage,g=(0,ne.$_)(),h=g.modifiedData,y=g.onChangeCollectionTypeGlobalActionCheckbox,P=(0,e.useMemo)(function(){return ta(n)},[n]),F=(0,e.useMemo)(function(){return ia(P,h[i])},[h,P,i]);return e.createElement(L.Box,{paddingBottom:4,paddingTop:6,style:{paddingLeft:Me}},e.createElement(He.Stack,{horizontal:!0,spacing:0},P.map(function($){var ee=$.label,w=$.actionId;return e.createElement(ca,{key:w,spacing:3},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral500"},p({id:"Settings.roles.form.permissions.".concat(ee.toLowerCase()),defaultMessage:ee})),e.createElement(Se.BaseCheckbox,{disabled:r||la,onValueChange:function(R){y(i,w,R)},name:w,"aria-label":p({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:p({id:"Settings.roles.form.permissions.".concat(ee.toLowerCase()),defaultMessage:ee})}),value:ce()(F,[w,"hasAllActionsSelected"],!1),indeterminate:ce()(F,[w,"hasSomeActionsSelected"],!1)}))})))};xn.defaultProps={actions:[]},xn.propTypes={actions:s().arrayOf(s().shape({label:s().string.isRequired,actionId:s().string.isRequired,subjects:s().array.isRequired})),isFormDisabled:s().bool.isRequired,kind:s().string.isRequired};const da=(0,e.memo)(xn),ua=(0,b.default)(L.Box)`
  overflow-x: auto;
`,io=({isFormDisabled:o,kind:t,layout:{actions:n,subjects:r}})=>{const i=fe()([...r],"label");return e.createElement(ua,{background:"neutral0"},e.createElement(da,{actions:n,kind:t,isFormDisabled:o}),e.createElement(ea,{actions:n,isFormDisabled:o,pathToData:t,subjects:i}))};io.propTypes={isFormDisabled:s().bool.isRequired,kind:s().string.isRequired,layout:s().shape({actions:s().array,subjects:s().arrayOf(s().shape({uid:s().string.isRequired,label:s().string.isRequired,properties:s().array.isRequired}))}).isRequired};const lo=(0,e.memo)(io);var pa=a(94803);const co=({children:o,value:t})=>e.createElement(pa.$l.Provider,{value:t},o);co.propTypes={children:s().node.isRequired,value:s().exact({availableConditions:s().array.isRequired,modifiedData:s().object.isRequired,onChangeCollectionTypeLeftActionRowCheckbox:s().func.isRequired,onChangeConditions:s().func.isRequired,onChangeSimpleCheckbox:s().func.isRequired,onChangeParentCheckbox:s().func.isRequired,onChangeCollectionTypeGlobalActionCheckbox:s().func.isRequired}).isRequired};const ma=co;var Mn=a(12001),uo=a(78330),po=a(52111),ga=Object.defineProperty,fa=Object.defineProperties,ha=Object.getOwnPropertyDescriptors,mo=Object.getOwnPropertySymbols,ya=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,go=(o,t,n)=>t in o?ga(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Ca=(o,t)=>{for(var n in t||(t={}))ya.call(t,n)&&go(o,n,t[n]);if(mo)for(var n of mo(t))va.call(t,n)&&go(o,n,t[n]);return o},Ea=(o,t)=>fa(o,ha(t));const ba=(o,t,n)=>o.map(r=>{const i=[...n,r.action,"properties","enabled"],l=(0,S.get)(t,i,!1),p=(0,S.get)(t,[...n,r.action,"conditions"],{}),g=pt(p).some(h=>h);return Ea(Ca({},r),{isDisplayed:l,checkboxName:i.join(".."),hasSomeActionsSelected:l,value:l,hasConditions:g,label:r.displayName,actionId:r.action,pathToConditionsObject:[...n,r.action]})}),Sa=o=>{const t=Object.entries(o).reduce((r,i)=>{const[l,{conditions:p}]=i;return r[l]=p,r},{});return pt(t).some(r=>r)};var Ln=function(){return window&&window.strapi&&window.strapi.isEE?a(56655).Z:a(18948).Z}(),Pa=b.default.div.withConfig({displayName:"SubCategory__Border",componentId:"sc-akgczm-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],function(o){var t=o.theme;return t.colors.neutral150}),Ta=b.default.div.withConfig({displayName:"SubCategory__CheckboxWrapper",componentId:"sc-akgczm-1"})(["position:relative;word-break:keep-all;",""],function(o){var t=o.hasConditions,n=o.disabled,r=o.theme;return t&&`
    &:before {
      content: '';
      position: absolute;
      top: `.concat(-4/16,`rem;
      left: `).concat(-8/16,`rem;
      width: `).concat(6/16,`rem;
      height: `).concat(6/16,`rem;
      border-radius: `).concat(20/16,`rem;
      background: `).concat(n?r.colors.neutral100:r.colors.primary600,`;
    }
  `)}),fo=function(t){var n=t.categoryName,r=t.isFormDisabled,i=t.subCategoryName,l=t.actions,p=t.pathToData,g=(0,e.useState)(!1),h=(0,U.Z)(g,2),y=h[0],P=h[1],F=(0,ne.$_)(),$=F.modifiedData,ee=F.onChangeParentCheckbox,w=F.onChangeSimpleCheckbox,N=(0,J.useIntl)(),R=N.formatMessage,B=ce()($,p,{}),Y=(0,e.useMemo)(function(){return Object.keys(B).reduce(function(be,je){return be[je]=Dt(B[je]),be},{})},[B]),le=lt(Y),Re=le.hasAllActionsSelected,Ee=le.hasSomeActionsSelected,De=function(){P(function(je){return!je})},we=function(){P(!1)},Ie=ba(l,$,p),yt=Sa(ce()($,(0,Z.Z)(p),{}));return e.createElement(e.Fragment,null,e.createElement(L.Box,null,e.createElement(X.Flex,{justifyContent:"space-between",alignItems:"center"},e.createElement(L.Box,{paddingRight:4},e.createElement(I.Typography,{variant:"sigma",textColor:"neutral600"},i)),e.createElement(Pa,null),e.createElement(L.Box,{paddingLeft:4},e.createElement(po.Checkbox,{name:p.join(".."),disabled:r||Ln,onValueChange:function(je){ee({target:{name:p.join(".."),value:je}})},indeterminate:Ee,value:Re},R({id:"app.utils.select-all",defaultMessage:"Select all"})))),e.createElement(X.Flex,{paddingTop:6,paddingBottom:6},e.createElement(uo.Grid,{gap:2,style:{flex:1}},Ie.map(function(be){var je=be.checkboxName,me=be.value,Pe=be.action,xe=be.displayName,Ne=be.hasConditions;return e.createElement(uo.GridItem,{col:3,key:Pe},e.createElement(Ta,{disabled:r||Ln,hasConditions:Ne},e.createElement(po.Checkbox,{name:je,disabled:r||Ln,onValueChange:function(gt){w({target:{name:je,value:gt}})},value:me},xe)))})),e.createElement($e,{hasConditions:yt,onClick:De}))),y&&e.createElement(Ct,{headerBreadCrumbs:[n,i],actions:Ie,isFormDisabled:r,onClosed:we,onToggle:De}))};fo.propTypes={actions:s().array.isRequired,categoryName:s().string.isRequired,isFormDisabled:s().bool.isRequired,subCategoryName:s().string.isRequired,pathToData:s().array.isRequired};const Aa=fo,In=({childrenForm:o,kind:t,name:n,isOpen:r,isFormDisabled:i,isWhite:l,onOpenCategory:p,pathToData:g})=>{const{formatMessage:h}=(0,J.useIntl)(),y=()=>{p(n)},P=(0,e.useMemo)(()=>n.split("::").pop(),[n]);return e.createElement(Mn.Accordion,{expanded:r,onToggle:y,id:`accordion-${n}`,variant:l?"primary":"secondary"},e.createElement(Mn.AccordionToggle,{title:z()(P),description:`${h({id:"Settings.permissions.category"},{category:P})} ${t==="plugins"?"plugin":t}`}),e.createElement(Mn.AccordionContent,null,e.createElement(L.Box,{padding:6},o.map(({actions:F,subCategoryName:$,subCategoryId:ee})=>e.createElement(Aa,{key:$,actions:F,categoryName:P,isFormDisabled:i,subCategoryName:$,pathToData:[...g,ee]})))))};In.defaultProps={},In.propTypes={childrenForm:s().array.isRequired,isOpen:s().bool.isRequired,isFormDisabled:s().bool.isRequired,isWhite:s().bool.isRequired,kind:s().string.isRequired,name:s().string.isRequired,onOpenCategory:s().func.isRequired,pathToData:s().array.isRequired};const Oa=In,ho=({isFormDisabled:o,kind:t,layout:n})=>{const[r,i]=(0,e.useState)(null),l=p=>{i(p===r?null:p)};return e.createElement(L.Box,{padding:6,background:"neutral0"},n.map(({category:p,categoryId:g,childrenForm:h},y)=>e.createElement(Oa,{key:p,childrenForm:h,kind:t,isFormDisabled:o,isOpen:r===p,isWhite:y%2===1,name:p,onOpenCategory:l,pathToData:[t,g]})))};ho.propTypes={isFormDisabled:s().bool.isRequired,kind:s().string.isRequired,layout:s().arrayOf(s().shape({category:s().string.isRequired,categoryId:s().string.isRequired,childrenForm:s().arrayOf(s().shape({actions:s().array.isRequired})).isRequired}).isRequired).isRequired};const yo=ho,vo=(o,t,n)=>o.find(r=>r.action===t&&r.subject===n);var Ra=Object.defineProperty,Da=Object.defineProperties,xa=Object.getOwnPropertyDescriptors,Co=Object.getOwnPropertySymbols,Ma=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,Eo=(o,t,n)=>t in o?Ra(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,bo=(o,t)=>{for(var n in t||(t={}))Ma.call(t,n)&&Eo(o,n,t[n]);if(Co)for(var n of Co(t))La.call(t,n)&&Eo(o,n,t[n]);return o},So=(o,t)=>Da(o,xa(t));const Po=(o,t=[])=>o.reduce((n,r)=>(n[r.id]=t.indexOf(r.id)!==-1,n),{}),To=({children:o},t,n="")=>o.reduce((r,i)=>{if(i.children)return So(bo({},r),{[i.value]:To(i,t,`${n}${i.value}.`)});const l=t.indexOf(`${n}${i.value}`)!==-1;return r[i.value]=l,r},{}),Ia=(o,t,n)=>o.reduce((r,i)=>{const l=t.properties.find(({value:p})=>p===i);if(l){const p=(0,S.get)(n,["properties",l.value],[]),g=To(l,p);r.properties[i]=g}return r},{properties:{}}),Fa=(o,t)=>t.reduce((n,r)=>{const i=o.find(({uid:l})=>l===r)||null;return i&&(n[r]=i),n},{}),Ao=({subjects:o},t,n,r=[])=>t.reduce((i,l)=>{const p=l.subjects,g=Fa(o,p);if((0,S.isEmpty)(g))return i;const h=Object.keys(g).reduce((y,P)=>{const{actionId:F,applyToProperties:$}=l,N=g[P].properties.map(({value:le})=>le).every(le=>($||[]).indexOf(le)===-1),R=vo(r,F,P),B=Po(n,(0,S.get)(R,"conditions",[]));if((0,S.isEmpty)($)||N)return(0,S.set)(y,[P,F],{properties:{enabled:R!==void 0},conditions:B}),y;const Y=Ia($,g[P],R);return(0,S.set)(y,[P,F],So(bo({},Y),{conditions:B})),y},{});return(0,S.merge)(i,h)},{}),Ba=(o,t,n)=>o.reduce((r,i)=>{const l=vo(n,i.action,null);return r[i.action]={properties:{enabled:l!==void 0},conditions:Po(t,(0,S.get)(l,"conditions",[]))},r},{}),wa=(o,t,n)=>o.reduce((r,i)=>(r[i.subCategoryId]=Ba(i.actions,t,n),r),{}),Oo=(o,t,n=[])=>o.reduce((r,{categoryId:i,childrenForm:l})=>{const p=wa(l,t,n);return r[i]=p,r},{}),Ro=o=>o.split(" ").join("-"),Do=(o,t)=>(0,S.chain)(o).groupBy(t).map((n,r)=>({category:r,categoryId:Ro(r),childrenForm:(0,S.chain)(n).groupBy("subCategory").map((i,l)=>({subCategoryName:l,subCategoryId:Ro(l),actions:i})).value()})).value(),ja=(o,t)=>{const{conditions:n,sections:{collectionTypes:r,singleTypes:i,plugins:l,settings:p}}=o,g={collectionTypes:r,singleTypes:i,plugins:Do(l,"plugin"),settings:Do(p,"category")},h={collectionTypes:Ao(r,r.actions||[],n,t),singleTypes:Ao(i,i.actions||[],n,t),plugins:Oo(g.plugins,n,t),settings:Oo(g.settings,n,t)};return{initialData:h,modifiedData:h,layouts:g}};var Na=Object.defineProperty,Wa=Object.defineProperties,$a=Object.getOwnPropertyDescriptors,xo=Object.getOwnPropertySymbols,Ua=Object.prototype.hasOwnProperty,ka=Object.prototype.propertyIsEnumerable,Mo=(o,t,n)=>t in o?Na(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Fn=(o,t)=>{for(var n in t||(t={}))Ua.call(t,n)&&Mo(o,n,t[n]);if(xo)for(var n of xo(t))ka.call(t,n)&&Mo(o,n,t[n]);return o},Bn=(o,t)=>Wa(o,$a(t));const Lo=o=>Object.keys(o).reduce((t,n)=>{const r=o[n];if((0,S.isObject)(r)&&!(0,S.has)(r,"conditions"))return Bn(Fn({},t),{[n]:Lo(r)});if((0,S.isObject)(r)&&(0,S.has)(r,"conditions")&&!pt((0,S.omit)(r,"conditions")).some(l=>l)){const l=Object.keys(r.conditions).reduce((p,g)=>(p[g]=!1,p),{});return Bn(Fn({},t),{[n]:Bn(Fn({},r),{conditions:l})})}return t[n]=r,t},{}),wn=Lo;var Va=Object.defineProperty,Ga=Object.defineProperties,za=Object.getOwnPropertyDescriptors,Io=Object.getOwnPropertySymbols,Za=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,Fo=(o,t,n)=>t in o?Va(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Ka=(o,t)=>{for(var n in t||(t={}))Za.call(t,n)&&Fo(o,n,t[n]);if(Io)for(var n of Io(t))Ha.call(t,n)&&Fo(o,n,t[n]);return o},Xa=(o,t)=>Ga(o,za(t));const Bo=(o,t)=>Object.keys(o).reduce((n,r)=>{const i=o[r];return r==="conditions"?(n[r]=i,n):(0,S.isObject)(i)?Xa(Ka({},n),{[r]:Bo(i,t)}):(n[r]=t,n)},{}),tn=Bo;var Ya=Object.defineProperty,Qa=Object.defineProperties,Ja=Object.getOwnPropertyDescriptors,wo=Object.getOwnPropertySymbols,qa=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable,jo=(o,t,n)=>t in o?Ya(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,er=(o,t)=>{for(var n in t||(t={}))qa.call(t,n)&&jo(o,n,t[n]);if(wo)for(var n of wo(t))_a.call(t,n)&&jo(o,n,t[n]);return o},tr=(o,t)=>Qa(o,Ja(t));const nr={initialData:{},modifiedData:{},layouts:{}},or=(o,t)=>(0,oe.default)(o,n=>{switch(t.type){case"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX":{const{collectionTypeKind:r,actionId:i,value:l}=t,p=["modifiedData",r];Object.keys((0,S.get)(o,p)).forEach(g=>{const h=(0,S.get)(o,[...p,g,i],void 0);if(h){let y=tn(h,l);if(!l&&y.conditions){const P=tn(y.conditions,!1);y=tr(er({},y),{conditions:P})}(0,S.set)(n,[...p,g,i],y)}});break}case"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX":{const{pathToCollectionType:r,propertyName:i,rowName:l,value:p}=t;let g=(0,S.cloneDeep)(o.modifiedData);const h=r.split(".."),y=(0,S.get)(g,h,{});Object.keys(y).forEach(P=>{if((0,S.has)(y[P],`properties.${i}`)){const F=(0,S.get)(y,[P,"properties",i,l]),$=[...h,P,"properties",i,l];if(!(0,S.isObject)(F))(0,S.set)(g,$,p);else{const ee=tn(F,p);(0,S.set)(g,$,ee)}}}),p||(g=wn(g)),(0,S.set)(n,"modifiedData",g);break}case"ON_CHANGE_CONDITIONS":{Object.entries(t.conditions).forEach(r=>{const[i,l]=r;(0,S.set)(n,["modifiedData",...i.split(".."),"conditions"],l)});break}case"ON_CHANGE_SIMPLE_CHECKBOX":{let r=(0,S.cloneDeep)(o.modifiedData);(0,S.set)(r,[...t.keys.split("..")],t.value),t.value||(r=wn(r)),(0,S.set)(n,"modifiedData",r);break}case"ON_CHANGE_TOGGLE_PARENT_CHECKBOX":{const{keys:r,value:i}=t,l=[...r.split("..")];let p=(0,S.cloneDeep)(o.modifiedData);const g=(0,S.get)(p,l,{}),h=tn(g,i);(0,S.set)(p,l,h),i||(p=wn(p)),(0,S.set)(n,["modifiedData"],p);break}case"RESET_FORM":{n.modifiedData=o.initialData;break}case"SET_FORM_AFTER_SUBMIT":{n.initialData=o.modifiedData;break}default:return n}}),jn=o=>Object.entries(o).filter(([,t])=>t).map(([t])=>t),ar=o=>{const[t,{conditions:n}]=o;return{action:t,subject:null,conditions:jn(n),properties:{}}},rr=o=>Object.values(o).reduce((t,n)=>{const r=Object.entries(n).reduce((i,l)=>{const[,{properties:{enabled:p}}]=l;if(!p)return i;const g=ar(l);return i.push(g),i},[]);return[...t,...r]},[]),No=o=>Object.values(o).reduce((t,n)=>{const r=rr(n);return[...t,...r]},[]),Wo=(o,t="")=>Object.entries(o).reduce((n,r)=>{const[i,l]=r;return(0,S.isObject)(l)?[...n,...Wo(l,`${t}${i}.`)]:(l&&!(0,S.isObject)(l)&&n.push(`${t}${i}`),n)},[]),sr=(o,t,{conditions:n,properties:r})=>Object.entries(r).reduce((i,l)=>{const[p,g]=l;return i.properties[p]=Wo(g),i},{action:o,subject:t,conditions:jn(n),properties:{}}),ir=(o,t,{conditions:n})=>({action:o,subject:t,properties:{},conditions:jn(n)}),lr=(o,t)=>Object.entries(t).reduce((r,i)=>{const[l,p]=i;if(!pt(p).some(y=>y))return r;if(!(0,S.has)(p,"properties.enabled")){const y=sr(l,o,p);return[...r,y]}if(!p.properties.enabled)return r;const h=ir(l,o,p);return r.push(h),r},[]),$o=o=>Object.entries(o).reduce((n,r)=>{const[i,l]=r,p=lr(i,l);return[...n,...p]},[]),cr=o=>{const t=No(o.plugins),n=No(o.settings),r=$o(o.collectionTypes),i=$o(o.singleTypes);return[...t,...n,...r,...i]},dr=[{labelId:"app.components.LeftMenuLinkContainer.collectionTypes",defaultMessage:"Collection Types",id:"collectionTypes"},{labelId:"app.components.LeftMenuLinkContainer.singleTypes",id:"singleTypes",defaultMessage:"Single Types"},{labelId:"app.components.LeftMenuLinkContainer.plugins",defaultMessage:"Plugins",id:"plugins"},{labelId:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings",id:"settings"}];var ur=Object.defineProperty,Uo=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,ko=(o,t,n)=>t in o?ur(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Vo=(o,t)=>{for(var n in t||(t={}))pr.call(t,n)&&ko(o,n,t[n]);if(Uo)for(var n of Uo(t))mr.call(t,n)&&ko(o,n,t[n]);return o};const Nn=(0,e.forwardRef)(({layout:o,isFormDisabled:t,permissions:n},r)=>{const[{initialData:i,layouts:l,modifiedData:p},g]=(0,e.useReducer)(or,nr,()=>ja(o,n)),{formatMessage:h}=(0,J.useIntl)();(0,e.useImperativeHandle)(r,()=>({getPermissions:()=>{const w=(0,H.difference)(i.collectionTypes,p.collectionTypes),N=(0,H.difference)(i.singleTypes,p.singleTypes),R=Vo(Vo({},w),N);let B;return We()(R)?B=!1:B=Object.values(R).some(Y=>Object.values(Y).some(le=>Te()(le,"conditions"))),{permissionsToSend:cr(p),didUpdateConditions:B}},resetForm:()=>{g({type:"RESET_FORM"})},setFormAfterSubmit:()=>{g({type:"SET_FORM_AFTER_SUBMIT"})}}));const y=(w,N,R,B)=>{g({type:"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX",pathToCollectionType:w,propertyName:N,rowName:R,value:B})},P=(w,N,R)=>{g({type:"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX",collectionTypeKind:w,actionId:N,value:R})},F=w=>{g({type:"ON_CHANGE_CONDITIONS",conditions:w})},$=(0,e.useCallback)(({target:{name:w,value:N}})=>{g({type:"ON_CHANGE_SIMPLE_CHECKBOX",keys:w,value:N})},[]),ee=(0,e.useCallback)(({target:{name:w,value:N}})=>{g({type:"ON_CHANGE_TOGGLE_PARENT_CHECKBOX",keys:w,value:N})},[]);return e.createElement(ma,{value:{availableConditions:o.conditions,modifiedData:p,onChangeConditions:F,onChangeSimpleCheckbox:$,onChangeParentCheckbox:ee,onChangeCollectionTypeLeftActionRowCheckbox:y,onChangeCollectionTypeGlobalActionCheckbox:P}},e.createElement(W.TabGroup,{id:"tabs",label:h({id:"Settings.permissions.users.tabs.label",defaultMessage:"Tabs Permissions"})},e.createElement(W.Tabs,null,dr.map(w=>e.createElement(W.Tab,{key:w.id},h({id:w.labelId,defaultMessage:w.defaultMessage})))),e.createElement(W.TabPanels,{style:{position:"relative"}},e.createElement(W.TabPanel,null,e.createElement(lo,{layout:l.collectionTypes,kind:"collectionTypes",isFormDisabled:t})),e.createElement(W.TabPanel,null,e.createElement(lo,{layout:l.singleTypes,kind:"singleTypes",isFormDisabled:t})),e.createElement(W.TabPanel,null,e.createElement(yo,{layout:l.plugins,kind:"plugins",isFormDisabled:t})),e.createElement(W.TabPanel,null,e.createElement(yo,{layout:l.settings,kind:"settings",isFormDisabled:t})))))});Nn.defaultProps={permissions:[],layout:{conditions:[],sections:{collectionTypes:{},singleTypes:{actions:[]},settings:[],plugins:[]}}},Nn.propTypes={layout:s().object,isFormDisabled:s().bool.isRequired,permissions:s().array};const gr=(0,e.memo)(Nn)},18948:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!0},65067:(he,x,a)=>{a.d(x,{Z:()=>e});const e=()=>"todo empty role"},38401:(he,x,a)=>{a.d(x,{Z:()=>ze});var e=a(32735),E=a(60216),s=a.n(E),H=a(9808),W=a.n(H),Fe=a(19192),Te=a.n(Fe),ge=a(53214),We=a.n(ge),J=a(95602),L=a.n(J),b=a(20763),G=a.n(b),fe=a(55851),U=a.n(fe),q=a(5636),et=a.n(q),Qe=Object.defineProperty,Ve=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,C=(ne,de,ue)=>de in ne?Qe(ne,de,{enumerable:!0,configurable:!0,writable:!0,value:ue}):ne[de]=ue,ce=(ne,de)=>{for(var ue in de||(de={}))Se.call(de,ue)&&C(ne,ue,de[ue]);if(Ve)for(var ue of Ve(de))X.call(de,ue)&&C(ne,ue,de[ue]);return ne};const Ge=({id:ne,name:de,description:ue,usersCount:Ze,icons:Je})=>{const{formatMessage:tt}=(0,q.useIntl)(),$e=tt({id:"Roles.RoleRow.user-count",defaultMessage:"{number, plural, =0 {#  user} one {#  user} other {# users}}"},{number:Ze});return e.createElement(ge.Tr,ce({key:ne},(0,fe.onRowClick)({fn:Je[1].onClick})),e.createElement(ge.Td,{maxWidth:(0,fe.pxToRem)(130)},e.createElement(J.Typography,{ellipsis:!0,textColor:"neutral800"},de)),e.createElement(ge.Td,{maxWidth:(0,fe.pxToRem)(250)},e.createElement(J.Typography,{ellipsis:!0,textColor:"neutral800"},ue)),e.createElement(ge.Td,null,e.createElement(J.Typography,{textColor:"neutral800"},$e)),e.createElement(ge.Td,null,e.createElement(Fe.Flex,ce({justifyContent:"flex-end"},fe.stopPropagation),Je.map((Ae,He)=>Ae?e.createElement(H.Box,{key:Ae.label,paddingLeft:He===0?0:1},e.createElement(b.IconButton,{onClick:Ae.onClick,label:Ae.label,noBorder:!0,icon:Ae.icon})):null))))};Ge.propTypes={id:s().number.isRequired,name:s().string.isRequired,description:s().string.isRequired,usersCount:s().number.isRequired,icons:s().array.isRequired};const ze=Ge},16639:(he,x,a)=>{a.d(x,{Z:()=>_e});var e=a(32735),E=a(55851),s=a(97987),H=a(58469),W=a(59290),Fe=a.n(W),Te=a(76470),ge=a.n(Te),We=a(95717),J=a.n(We),L=a(68192),b=a.n(L),G=a(44526),fe=a(11856),U=a(53214),q=a(95602),et=a(16540),Qe=a(28004),Ve=a(5636),Se=a(5141),X=a(38401),C=a(65067),ce=a(60216),Ge=a.n(ce),ze=a(19615),ne=a(64410),de=a(54742),ue=a(20763),Ze=a(61541),Je=a(9808),tt=a(19192),$e=a(90662),Ae=a(82372),He=a.n(Ae),it=a(94009),re=a.n(it);const I=a.p+"c3de6118ef47086ad05c.png",oe=a.p+"bd81ba6c07827282255d.png",A=ze.default.div`
  position: absolute;
  z-index: 3;
  inset: 0;
  background: ${({theme:j})=>(0,E.setHexOpacity)(j.colors.neutral800,.2)};
  padding: 0 ${({theme:j})=>j.spaces[8]};
`,te=(0,ze.default)(tt.Flex)`
  position: relative;
  max-width: ${830/16}rem;
  height: ${415/16}rem;
  margin: 0 auto;
  overflow: hidden;
  margin-top: 10%;
  padding-left: ${64/16}rem;

  img:first-of-type {
    position: absolute;
    right: 0;
    top: 0;
    max-width: ${360/16}rem;
  }

  img:not(:first-of-type) {
    width: ${130/16}rem;
    margin-left: 12%;
    margin-right: ${20/16}rem;
    z-index: 0;
  }
`,se=(0,ze.default)($e.Stack)`
  align-items: flex-start;
  max-width: ${400/16}rem;
  z-index: 0;
`,z=(0,ze.default)(Je.Box)`
  position: absolute;
  right: ${({theme:j})=>j.spaces[4]};
  top: ${({theme:j})=>j.spaces[4]};
`,pe=({onClose:j,isOpen:ie})=>{(0,E.useLockScroll)(ie);const{formatMessage:V}=(0,Ve.useIntl)();return ie?e.createElement(ne.Portal,null,e.createElement(A,{onClick:j},e.createElement(de.FocusTrap,{onEscape:j},e.createElement(te,{onClick:K=>K.stopPropagation(),"aria-labelledby":"upgrade-plan",background:"neutral0",hasRadius:!0},e.createElement("img",{src:I,alt:"air-balloon"}),e.createElement(z,null,e.createElement(ue.IconButton,{onClick:j,"aria-label":"Close",icon:e.createElement(re(),null)})),e.createElement(se,{spacing:6},e.createElement(q.Typography,{fontWeight:"bold",textColor:"primary600"},V({id:"app.components.UpgradePlanModal.text-ce",defaultMessage:"COMMUNITY EDITION"})),e.createElement($e.Stack,{spacing:2},e.createElement(q.Typography,{variant:"alpha",as:"h2",id:"upgrade-plan"},V({id:"app.components.UpgradePlanModal.limit-reached",defaultMessage:"You have reached the limit"})),e.createElement(q.Typography,null,V({id:"app.components.UpgradePlanModal.text-power",defaultMessage:"Unlock the full power of Strapi by upgrading your plan to the Enterprise Edition"}))),e.createElement(Ze.LinkButton,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:e.createElement(He(),null)},V({id:"app.components.UpgradePlanModal.button",defaultMessage:"Learn more"}))),e.createElement("img",{src:oe,alt:"upgrade-arrow"}))))):null};pe.propTypes={onClose:Ge().func.isRequired,isOpen:Ge().bool.isRequired};const Z=pe;var k=a(4187);const ae=()=>{const{roles:j,isLoading:ie}=(0,k.bF)(),V=(0,E.useQuery)(),K=decodeURIComponent(V.get("_q")||""),Be=(0,H.ZP)(j,K,{keys:["name","description"]});return{isLoading:ie,sortedRoles:Be}},Me=()=>{const{formatMessage:j}=(0,Ve.useIntl)(),[ie,V]=(0,e.useState)(!1),{trackUsage:K}=(0,E.useTracking)(),{push:Be}=(0,Se.useHistory)(),Ue=(0,e.useCallback)(Oe=>{Be(`/settings/roles/${Oe}`)},[Be]),Xe=(0,e.useCallback)(()=>{V(Oe=>!Oe)},[]),Q=(0,e.useCallback)(()=>{K("didShowRBACUpgradeModal"),V(!0)},[K]),ye=(0,e.useCallback)(Oe=>[{onClick:Xe,label:j({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:e.createElement(b(),null)},{onClick:()=>Ue(Oe.id),label:j({id:"app.utils.edit",defaultMessage:"Edit"}),icon:e.createElement(J(),null)},{onClick:Xe,label:j({id:"global.delete",defaultMessage:"Delete"}),icon:e.createElement(ge(),null)}],[j,Xe,Ue]);return{isModalOpen:ie,handleToggleModalForCreatingRole:Q,handleToggle:Xe,getIcons:ye}},qe=()=>{const{formatMessage:j}=(0,Ve.useIntl)();(0,E.useFocusWhenNavigate)();const{sortedRoles:ie,isLoading:V}=ae(),{isModalOpen:K,handleToggle:Be,handleToggleModalForCreatingRole:Ue,getIcons:Xe}=Me(),Q=ie.length+1,ye=5;return e.createElement(et.Main,null,e.createElement(E.SettingsPageTitle,{name:"Roles"}),e.createElement(fe.HeaderLayout,{primaryAction:e.createElement(G.Button,{onClick:Ue,startIcon:e.createElement(Fe(),null),size:"L"},j({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})),title:j({id:"global.roles",defaultMessage:"roles"}),subtitle:j({id:"Settings.roles.list.description",defaultMessage:"List of roles"})}),e.createElement(fe.ContentLayout,null,e.createElement(U.Table,{colCount:ye,rowCount:Q,footer:e.createElement(U.TFooter,{onClick:Ue,icon:e.createElement(Fe(),null)},j({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"}))},e.createElement(U.Thead,null,e.createElement(U.Tr,null,e.createElement(U.Th,null,e.createElement(q.Typography,{variant:"sigma",textColor:"neutral600"},j({id:"global.name",defaultMessage:"Name"}))),e.createElement(U.Th,null,e.createElement(q.Typography,{variant:"sigma",textColor:"neutral600"},j({id:"global.description",defaultMessage:"Description"}))),e.createElement(U.Th,null,e.createElement(q.Typography,{variant:"sigma",textColor:"neutral600"},j({id:"global.users",defaultMessage:"Users"}))),e.createElement(U.Th,null,e.createElement(Qe.VisuallyHidden,null,j({id:"global.actions",defaultMessage:"Actions"}))))),e.createElement(U.Tbody,null,ie==null?void 0:ie.map(Oe=>e.createElement(X.Z,{key:Oe.id,id:Oe.id,name:Oe.name,description:Oe.description,usersCount:Oe.usersCount,icons:Xe(Oe)})))),!Q&&!V&&e.createElement(C.Z,null)),e.createElement(Z,{isOpen:K,onClose:Be}))},_e=()=>e.createElement(E.CheckPagePermissions,{permissions:s.Z.settings.roles.main},e.createElement(qe,null))},7592:(he,x,a)=>{a.d(x,{Z:()=>E});const E=[]},20332:(he,x,a)=>{a.d(x,{Z:()=>it});var e=a(32735),E=a(53806),s=a.n(E),H=a(55851),W=a(9808),Fe=a(44526),Te=a(11856),ge=a(78330),We=a(16540),J=a(19192),L=a(90662),b=a(95602),G=a(37178),fe=a(90353),U=a(98599),q=a.n(U),et=a(83281),Qe=a(33795),Ve=a.n(Qe),Se=a(86834),X=a.n(Se),C=a(5636),ce=a(5141),Ge=a(19615),ze=a(332),ne=a(4187),de=a(97987),ue=a(5173);const Je=ue.Ry().shape({name:ue.Z_().required(H.translatedErrors.required),description:ue.Z_().required(H.translatedErrors.required)});var tt=a(98399),$e=(re,I,oe)=>new Promise((A,te)=>{var se=Z=>{try{pe(oe.next(Z))}catch(k){te(k)}},z=Z=>{try{pe(oe.throw(Z))}catch(k){te(k)}},pe=Z=>Z.done?A(Z.value):Promise.resolve(Z.value).then(se,z);pe((oe=oe.apply(re,I)).next())});const Ae=Ge.default.div`
  border: 1px solid ${({theme:re})=>re.colors.primary200};
  background: ${({theme:re})=>re.colors.primary100};
  padding: ${({theme:re})=>`${re.spaces[2]} ${re.spaces[4]}`};
  color: ${({theme:re})=>re.colors.primary600};
  border-radius: ${({theme:re})=>re.borderRadius};
  font-size: ${12/16}rem;
  font-width: bold;
`,He=()=>{const re=(0,H.useNotification)(),{lockApp:I,unlockApp:oe}=(0,H.useOverlayBlocker)(),{formatMessage:A}=(0,C.useIntl)(),[te,se]=(0,e.useState)(!1),{replace:z}=(0,ce.useHistory)(),pe=(0,e.useRef)(),{trackUsage:Z}=(0,H.useTracking)(),k=(0,ce.useRouteMatch)("/settings/roles/duplicate/:id"),ae=Ve()(k,"params.id",null),{isLoading:Me,data:Ke}=(0,ne.U_)(),{permissions:qe,isLoading:rt}=(0,ne.Dq)(ae),_e=ie=>{I(),se(!0),Z(ae?"willDuplicateRole":"willCreateNewRole"),Promise.resolve((0,H.request)("/admin/roles",{method:"POST",body:ie})).then(V=>$e(void 0,null,function*(){const{permissionsToSend:K}=pe.current.getPermissions();return Z(ae?"didDuplicateRole":"didCreateNewRole"),V.data.id&&!X()(K)&&(yield(0,H.request)(`/admin/roles/${V.data.id}/permissions`,{method:"PUT",body:{permissions:K}})),V})).then(V=>{se(!1),re({type:"success",message:{id:"Settings.roles.created",defaultMessage:"created"}}),z(`/settings/roles/${V.data.id}`)}).catch(V=>{tt.error(V),se(!1),re({type:"warning",message:{id:"notification.error"}})}).finally(()=>{oe()})},j=`${A({id:"Settings.roles.form.created",defaultMessage:"Created"})} ${s()().format("LL")}`;return e.createElement(We.Main,null,e.createElement(H.SettingsPageTitle,{name:"Roles"}),e.createElement(et.Formik,{initialValues:{name:"",description:j},onSubmit:_e,validationSchema:Je,validateOnChange:!1},({handleSubmit:ie,values:V,errors:K,handleReset:Be,handleChange:Ue})=>e.createElement(H.Form,{noValidate:!0},e.createElement(e.Fragment,null,e.createElement(Te.HeaderLayout,{primaryAction:e.createElement(L.Stack,{horizontal:!0,spacing:2},e.createElement(Fe.Button,{variant:"secondary",onClick:()=>{Be(),pe.current.resetForm()},size:"L"},A({id:"app.components.Button.reset",defaultMessage:"Reset"})),e.createElement(Fe.Button,{onClick:ie,loading:te,size:"L"},A({id:"global.save",defaultMessage:"Save"}))),title:A({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:A({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"}),navigationAction:e.createElement(H.Link,{startIcon:e.createElement(q(),null),to:"/settings/roles"},A({id:"global.back",defaultMessage:"Back"}))}),e.createElement(Te.ContentLayout,null,e.createElement(L.Stack,{spacing:6},e.createElement(W.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},e.createElement(L.Stack,{spacing:4},e.createElement(J.Flex,{justifyContent:"space-between"},e.createElement(W.Box,null,e.createElement(W.Box,null,e.createElement(b.Typography,{fontWeight:"bold"},A({id:"global.details",defaultMessage:"Details"}))),e.createElement(W.Box,null,e.createElement(b.Typography,{variant:"pi",textColor:"neutral600"},A({id:"Settings.roles.form.description",defaultMessage:"Name and description of the role"})))),e.createElement(Ae,null,A({id:"Settings.roles.form.button.users-with-role",defaultMessage:"{number, plural, =0 {# users} one {# user} other {# users}} with this role"},{number:0}))),e.createElement(ge.Grid,{gap:4},e.createElement(ge.GridItem,{col:6},e.createElement(G.TextInput,{name:"name",error:K.name&&A({id:K.name}),label:A({id:"global.name",defaultMessage:"Name"}),onChange:Ue,value:V.name})),e.createElement(ge.GridItem,{col:6},e.createElement(fe.Textarea,{label:A({id:"global.description",defaultMessage:"Description"}),name:"description",error:K.description&&A({id:K.description}),onChange:Ue},V.description))))),!Me&&!rt?e.createElement(W.Box,{shadow:"filterShadow",hasRadius:!0},e.createElement(ze.Z,{isFormDisabled:!1,ref:pe,permissions:qe,layout:Ke})):e.createElement(W.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},e.createElement(H.LoadingIndicatorPage,null))))))))},it=()=>e.createElement(H.CheckPagePermissions,{permissions:de.Z.settings.roles.create},e.createElement(He,null))},47465:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!1},34819:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!1},46924:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!1},52367:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!1},4859:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!1},56655:(he,x,a)=>{a.d(x,{Z:()=>E});const E=!1},24306:(he,x,a)=>{a.d(x,{Z:()=>re});var e=a(32735),E=a(55851),s=a(97987),H=a(59290),W=a.n(H),Fe=a(76470),Te=a.n(Fe),ge=a(68192),We=a.n(ge),J=a(95717),L=a.n(J),b=a(44526),G=a(11856),fe=a(28004),U=a(16540),q=a(53214),et=a(95602),Qe=a(92891),Ve=a(58469),Se=a(5636),X=a(5141),C=a(71707),ce=a(4187),Ge=a(65067),ze=a(38401),ne=a(49415);const de={roleToDelete:null,showModalConfirmButtonLoading:!1,shouldRefetchData:!1},Ze=(I,oe)=>(0,ne.default)(I,A=>{switch(oe.type){case"ON_REMOVE_ROLES":{A.showModalConfirmButtonLoading=!0;break}case"ON_REMOVE_ROLES_SUCCEEDED":{A.shouldRefetchData=!0,A.roleToDelete=null;break}case"RESET_DATA_TO_DELETE":{A.shouldRefetchData=!1,A.roleToDelete=null,A.showModalConfirmButtonLoading=!1;break}case"SET_ROLE_TO_DELETE":{A.roleToDelete=oe.id;break}default:return A}});var Je=(I,oe,A)=>new Promise((te,se)=>{var z=k=>{try{Z(A.next(k))}catch(ae){se(ae)}},pe=k=>{try{Z(A.throw(k))}catch(ae){se(ae)}},Z=k=>k.done?te(k.value):Promise.resolve(k.value).then(z,pe);Z((A=A.apply(I,oe)).next())});const tt=()=>{(0,E.useFocusWhenNavigate)();const{isLoading:I,allowedActions:{canCreate:oe,canDelete:A,canRead:te,canUpdate:se}}=(0,E.useRBAC)(s.Z.settings.roles),{getData:z,roles:pe,isLoading:Z}=(0,ce.bF)(!1),[{query:k}]=(0,E.useQueryParams)(),ae=(k==null?void 0:k._q)||"",Me=(0,Ve.ZP)(pe,ae,{keys:["name","description"]});return(0,e.useEffect)(()=>{!I&&te&&z()},[I,te,z]),{isLoadingForPermissions:I,canCreate:oe,canDelete:A,canRead:te,canUpdate:se,isLoading:Z,getData:z,sortedRoles:Me,roles:pe}},$e=({getData:I,canCreate:oe,canDelete:A,canUpdate:te})=>{const{formatMessage:se}=(0,Se.useIntl)(),z=(0,E.useNotification)(),[pe,Z]=(0,e.useState)(!1),{push:k}=(0,X.useHistory)(),[{selectedRoles:ae,showModalConfirmButtonLoading:Me,roleToDelete:Ke},qe]=(0,e.useReducer)(Ze,de),rt=()=>Je(void 0,null,function*(){try{qe({type:"ON_REMOVE_ROLES"}),yield C.be.post("/admin/roles/batch-delete",{ids:[Ke]}),yield I(),qe({type:"RESET_DATA_TO_DELETE"})}catch(Q){const ye=(0,Qe.get)(Q,["response","payload","data","ids"],null);if(ye&&Array.isArray(ye)){const Oe=ye.join(`
`);z({type:"warning",message:Oe})}else z({type:"warning",message:{id:"notification.error"}})}V()}),_e=(0,e.useCallback)(Q=>{k(`/settings/roles/duplicate/${Q}`)},[k]),j=()=>k("/settings/roles/new"),ie=(0,e.useCallback)(Q=>{qe({type:"SET_ROLE_TO_DELETE",id:Q}),V()},[]),V=()=>Z(Q=>!Q),K=(0,e.useCallback)(Q=>{k(`/settings/roles/${Q}`)},[k]),Be=(0,e.useCallback)((Q,ye)=>{Q.preventDefault(),Q.stopPropagation(),ye.usersCount?z({type:"info",message:{id:"Roles.ListPage.notification.delete-not-allowed"}}):ie(ye.id)},[z,ie]),Ue=(0,e.useCallback)((Q,ye)=>{Q.preventDefault(),Q.stopPropagation(),_e(ye.id)},[_e]),Xe=(0,e.useCallback)(Q=>[...oe?[{onClick:ye=>Ue(ye,Q),label:se({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:e.createElement(We(),null)}]:[],...te?[{onClick:()=>K(Q.id),label:se({id:"app.utils.edit",defaultMessage:"Edit"}),icon:e.createElement(L(),null)}]:[],...A?[{onClick:ye=>Be(ye,Q),label:se({id:"global.delete",defaultMessage:"Delete"}),icon:e.createElement(Te(),null)}]:[]],[se,Be,Ue,K,oe,te,A]);return{handleNewRoleClick:j,getIcons:Xe,selectedRoles:ae,isWarningDeleteAllOpened:pe,showModalConfirmButtonLoading:Me,handleToggleModal:V,handleDeleteData:rt}},He=()=>{const{formatMessage:I}=(0,Se.useIntl)(),{isLoadingForPermissions:oe,canCreate:A,canRead:te,canDelete:se,canUpdate:z,isLoading:pe,getData:Z,sortedRoles:k}=tt(),{handleNewRoleClick:ae,getIcons:Me,isWarningDeleteAllOpened:Ke,showModalConfirmButtonLoading:qe,handleToggleModal:rt,handleDeleteData:_e}=$e({getData:Z,canCreate:A,canDelete:se,canUpdate:z}),j=k.length+1,ie=6;if(oe)return e.createElement(U.Main,null,e.createElement(E.LoadingIndicatorPage,null));const V=I({id:"global.roles",defaultMessage:"roles"});return e.createElement(U.Main,null,e.createElement(E.SettingsPageTitle,{name:"Roles"}),e.createElement(G.HeaderLayout,{primaryAction:A?e.createElement(b.Button,{onClick:ae,startIcon:e.createElement(W(),null),size:"L"},I({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null,title:V,subtitle:I({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),as:"h2"}),te&&e.createElement(G.ActionLayout,{startActions:e.createElement(E.SearchURLQuery,{label:I({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:V})})}),te&&e.createElement(G.ContentLayout,null,e.createElement(q.Table,{colCount:ie,rowCount:j,footer:A?e.createElement(q.TFooter,{onClick:ae,icon:e.createElement(W(),null)},I({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null},e.createElement(q.Thead,null,e.createElement(q.Tr,null,e.createElement(q.Th,null,e.createElement(et.Typography,{variant:"sigma",textColor:"neutral600"},I({id:"global.name",defaultMessage:"Name"}))),e.createElement(q.Th,null,e.createElement(et.Typography,{variant:"sigma",textColor:"neutral600"},I({id:"global.description",defaultMessage:"Description"}))),e.createElement(q.Th,null,e.createElement(et.Typography,{variant:"sigma",textColor:"neutral600"},I({id:"global.users",defaultMessage:"Users"}))),e.createElement(q.Th,null,e.createElement(fe.VisuallyHidden,null,I({id:"global.actions",defaultMessage:"Actions"}))))),e.createElement(q.Tbody,null,k==null?void 0:k.map(K=>e.createElement(ze.Z,{key:K.id,id:K.id,name:K.name,description:K.description,usersCount:K.usersCount,icons:Me(K)})))),!j&&!pe&&e.createElement(Ge.Z,null)),e.createElement(E.ConfirmDialog,{isOpen:Ke,onConfirm:_e,isConfirmButtonLoading:qe,onToggleDialog:rt}))},re=()=>e.createElement(E.CheckPagePermissions,{permissions:s.Z.settings.roles.main},e.createElement(He,null))},92786:(he,x,a)=>{a.d(x,{Z:()=>H});var e=(W,Fe,Te)=>new Promise((ge,We)=>{var J=G=>{try{b(Te.next(G))}catch(fe){We(fe)}},L=G=>{try{b(Te.throw(G))}catch(fe){We(fe)}},b=G=>G.done?ge(G.value):Promise.resolve(G.value).then(J,L);b((Te=Te.apply(W,Fe)).next())});const H=[...strapi.features.isEnabled(strapi.features.SSO)?[{Component:()=>e(void 0,null,function*(){return yield a.e(302).then(a.bind(a,29837))}),to:"/settings/single-sign-on",exact:!0}]:[]]}}]);
